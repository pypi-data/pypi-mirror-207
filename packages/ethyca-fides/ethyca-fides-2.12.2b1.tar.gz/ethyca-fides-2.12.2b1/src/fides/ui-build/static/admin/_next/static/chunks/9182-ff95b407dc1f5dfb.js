"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9182],{24487:function(e,n,t){t.d(n,{At:function(){return f},aG:function(){return v},gN:function(){return h}});var r=t(32393),a=t(14007),i=t(49031),s=t(27378);function c(){return c=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},c.apply(this,arguments)}function o(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}var l=["spacing"],u=["isCurrentPage","as","className","href"],d=["isCurrentPage","separator","isLastChild","spacing","children","className"],p=["children","spacing","separator","className"],m=(0,r.Gp)((function(e,n){var t=e.spacing,a=o(e,l),i=c({mx:t},(0,r.yK)().separator);return s.createElement(r.m$.span,c({ref:n,role:"presentation"},a,{__css:i}))}));a.Ts&&(m.displayName="BreadcrumbSeparator");var f=(0,r.Gp)((function(e,n){var t=e.isCurrentPage,i=e.as,l=e.className,d=e.href,p=o(e,u),m=(0,r.yK)(),f=c({ref:n,as:i,className:(0,a.cx)("chakra-breadcrumb__link",l)},p);return t?s.createElement(r.m$.span,c({"aria-current":"page",__css:m.link},f)):s.createElement(r.m$.a,c({__css:m.link,href:d},f))}));a.Ts&&(f.displayName="BreadcrumbLink");var h=(0,r.Gp)((function(e,n){var t=e.isCurrentPage,l=e.separator,u=e.isLastChild,p=e.spacing,h=e.children,v=e.className,b=o(e,d),y=(0,i.WR)(h).map((function(e){return e.type===f?s.cloneElement(e,{isCurrentPage:t}):e.type===m?s.cloneElement(e,{spacing:p,children:e.props.children||l}):e})),g=c({display:"inline-flex",alignItems:"center"},(0,r.yK)().item),x=(0,a.cx)("chakra-breadcrumb__list-item",v);return s.createElement(r.m$.li,c({ref:n,className:x},b,{__css:g}),y,!u&&s.createElement(m,{spacing:p},l))}));a.Ts&&(h.displayName="BreadcrumbItem");var v=(0,r.Gp)((function(e,n){var t=(0,r.jC)("Breadcrumb",e),l=(0,r.Lr)(e),u=l.children,d=l.spacing,m=void 0===d?"0.5rem":d,f=l.separator,h=void 0===f?"/":f,v=l.className,b=o(l,p),y=(0,i.WR)(u),g=y.length,x=y.map((function(e,n){return s.cloneElement(e,{separator:h,spacing:m,isLastChild:g===n+1})})),j=(0,a.cx)("chakra-breadcrumb",v);return s.createElement(r.m$.nav,c({ref:n,"aria-label":"breadcrumb",className:j,__css:t.container},b),s.createElement(r.Fo,{value:t},s.createElement(r.m$.ol,{className:"chakra-breadcrumb__list"},x)))}));a.Ts&&(v.displayName="Breadcrumb")},51471:function(e,n,t){t.d(n,{Z:function(){return v}});var r=t(34896),a=t(88038),i=t.n(a),s=t(86677),c=(t(27378),t(90768)),o=t(35100),l=t(64989),u=t(48114),d=t(51365),p=t(29549),m=t(60709),f=t(24246),h=function(){var e=(0,s.useRouter)();return(0,f.jsx)(r.xu,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,f.jsxs)(r.xu,{children:[(0,f.jsxs)(r.Kq,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,f.jsx)(r.xv,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,f.jsx)(p.zx,{size:"sm",variant:"outline",onClick:function(){e.push(m.fz)},children:"Configure"})]}),(0,f.jsxs)(r.xv,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},v=function(e){var n=e.children,t=e.title,a=(0,c.hz)(),p=(0,s.useRouter)(),m="/privacy-requests"===p.pathname||"/datastore-connection"===p.pathname,v=!(a.flags.privacyRequestsConfiguration&&m),b=(0,d.JE)(void 0,{skip:v}).data,y=(0,d.PW)(void 0,{skip:v}).data,g=a.flags.privacyRequestsConfiguration&&(!b||!y)&&m;return(0,f.jsxs)(r.kC,{"data-testid":t,direction:"column",children:[(0,f.jsxs)(i(),{children:[(0,f.jsxs)("title",{children:["Fides Admin UI - ",t]}),(0,f.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,f.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,f.jsx)(o.Z,{}),(0,f.jsx)(u.Z,{}),(0,f.jsxs)(r.kC,{as:"main",flexGrow:1,padding:10,gap:10,children:[(0,f.jsx)(r.xu,{flex:0,flexShrink:0,children:(0,f.jsx)(l.U,{})}),(0,f.jsxs)(r.kC,{direction:"column",flex:1,minWidth:0,children:[g?(0,f.jsx)(h,{}):null,n]})]})]})}},86054:function(e,n,t){var r=t(34896),a=t(24246);n.Z=function(e){var n=e.title,t=e.children;return(0,a.jsxs)(r.xu,{borderRadius:"md",border:"1px solid",borderColor:"gray.200",children:[(0,a.jsx)(r.X6,{as:"h3",fontSize:"sm",fontWeight:"semibold",color:"gray.700",py:4,px:6,backgroundColor:"gray.50",borderRadius:"md",textAlign:"left",children:n}),(0,a.jsx)(r.Kq,{p:6,spacing:6,children:t})]})}},24753:function(e,n,t){t.d(n,{MA:function(){return u},Vo:function(){return p},t5:function(){return d}});var r=t(90849),a=t(34896),i=t(24246);function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var o=function(e){var n=e.message;return(0,i.jsxs)(a.xv,{"data-testid":"toast-success-msg",children:[(0,i.jsx)("strong",{children:"Success:"})," ",n]})},l=function(e){var n=e.message;return(0,i.jsxs)(a.xv,{"data-testid":"toast-error-msg",children:[(0,i.jsx)("strong",{children:"Error:"})," ",n]})},u={variant:"subtle",position:"top",description:"",duration:5e3,status:"success",isClosable:!0},d=function(e){var n=(0,i.jsx)(o,{message:e});return c(c({},u),{description:n})},p=function(e){var n=(0,i.jsx)(l,{message:e});return c(c({},u),{description:n,status:"error"})}},54899:function(e,n,t){t.d(n,{Z:function(){return q}});var r=t(55732),a=t(97865),i=t(34707),s=t.n(i),c=t(70409),o=t(34896),l=t(29549),u=t(71292),d=t(86677),p=t(27378),m=t(6848),f=t(86054),h=t(43139),v=t(78624),b=t(60709),y=t(24753),g=t(75846),x=t(21023),j=t(20800),_=t(24246),O=(0,v.MM)(x.J7).map((function(e){return{label:j.y.get(e.label)||e.label,value:e.value}})),P=(0,v.MM)(x.QT).map((function(e){return{label:j.B.get(e.label)||e.label,value:e.value}})),w=function(){var e=(0,u.u6)(),n=e.values,t=e.setFieldValue,r=(0,p.useMemo)((function(){return n.consent_mechanism===x.J7.NOTICE_ONLY}),[n.consent_mechanism]);return(0,p.useEffect)((function(){r&&(t("enforcement_level",x.QT.NOT_APPLICABLE),t("has_gpc_flag",!1))}),[r,t]),(0,_.jsxs)(f.Z,{title:"Consent mechanism",children:[(0,_.jsx)(h.AP,{label:"If this use of data requires consent, you can specify the method of consent here.",name:"consent_mechanism",options:O,variant:"stacked"}),(0,_.jsx)(h.AP,{label:"Select the enforcement level for this consent mechanism",name:"enforcement_level",options:P,variant:"stacked",isDisabled:r}),(0,_.jsxs)(o.xu,{children:[(0,_.jsx)(o.xv,{fontSize:"sm",fontWeight:"medium",mb:2,children:"Configure whether this notice conforms to the Global Privacy Control."}),(0,_.jsx)(h.w8,{label:"GPC Enabled",name:"has_gpc_flag",variant:"condensed",isDisabled:r})]})]})},C=t(90849),k=t(90089),E=t(68301),N=["created_at","updated_at","privacy_notice_history_id","version"];function S(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Z(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?S(Object(t),!0).forEach((function(n){(0,C.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):S(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var D={name:"",regions:[],consent_mechanism:x.J7.OPT_IN,data_uses:[],enforcement_level:x.QT.SYSTEM_WIDE,displayed_in_api:!0,displayed_in_overlay:!0,displayed_in_privacy_center:!0},M=E.Ry().shape({name:E.Z_().required().label("Title"),data_uses:E.IX(E.Z_()).min(1,"Must assign at least one data use").label("Data uses"),regions:E.IX(E.Z_()).min(1,"Must assign at least one location").label("Locations")}),R=t(15749),T=(0,v.MM)(x._F),q=function(e){var n=e.privacyNotice,t=(0,d.useRouter)(),i=(0,c.pm)(),x=n?function(e){var n,t,r,a,i;return e.created_at,e.updated_at,e.privacy_notice_history_id,e.version,Z(Z({},(0,k.Z)(e,N)),{},{name:null!==(n=e.name)&&void 0!==n?n:D.name,regions:null!==(t=e.regions)&&void 0!==t?t:D.regions,consent_mechanism:null!==(r=e.consent_mechanism)&&void 0!==r?r:D.consent_mechanism,data_uses:null!==(a=e.data_uses)&&void 0!==a?a:D.data_uses,enforcement_level:null!==(i=e.enforcement_level)&&void 0!==i?i:D.enforcement_level})}(n):D;(0,g.fd)();var j=(0,m.C)(g.oW),O=(0,R.vL)(),P=(0,a.Z)(O,1)[0],C=(0,R.p4)(),E=(0,a.Z)(C,1)[0],S=(0,p.useMemo)((function(){return!!n}),[n]),q=function(){var e=(0,r.Z)(s().mark((function e(n){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S){e.next=6;break}return e.next=3,P([n]);case 3:r=e.sent,e.next=9;break;case 6:return e.next=8,E([n]);case 8:r=e.sent;case 9:(0,v.D4)(r)?i((0,y.Vo)((0,v.e$)(r.error))):(i((0,y.t5)("Privacy notice ".concat(S?"updated":"created"))),S||t.push(b.IT));case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,_.jsx)(u.J9,{initialValues:x,enableReinitialize:!0,onSubmit:q,validationSchema:M,children:function(e){var n=e.dirty,r=e.isValid,a=e.isSubmitting;return(0,_.jsx)(u.l0,{children:(0,_.jsxs)(o.Kq,{spacing:10,children:[(0,_.jsxs)(o.Kq,{spacing:6,children:[(0,_.jsxs)(f.Z,{title:"Privacy notice details",children:[(0,_.jsx)(h.j0,{label:"Title of the consent notice as displayed to the user",name:"name",variant:"stacked"}),(0,_.jsx)(h.Ks,{label:"Privacy notice displayed to the user",name:"description",variant:"stacked"})]}),(0,_.jsx)(w,{}),(0,_.jsxs)(f.Z,{title:"Privacy notice configuration",children:[(0,_.jsx)(h.AP,{name:"data_uses",label:"Data uses associated with this privacy notice",options:j,variant:"stacked",isMulti:!0,isRequired:!0}),(0,_.jsx)(h.Ks,{label:"Description of the privacy notice (visible to internal users only)",name:"internal_description",variant:"stacked"}),(0,_.jsx)(h.AP,{name:"regions",label:"Locations where consent notice is shown to visitors",options:T,variant:"stacked",isMulti:!0,isRequired:!0}),(0,_.jsxs)(o.xu,{children:[(0,_.jsx)(o.xv,{fontSize:"sm",fontWeight:"medium",mb:2,children:"Configure the user experience for how this notice is displayed"}),(0,_.jsxs)(o.Ug,{justifyContent:"space-between",children:[(0,_.jsx)(h.w8,{label:"Show in Privacy Preference Center",name:"displayed_in_privacy_center",variant:"condensed"}),(0,_.jsx)(h.w8,{label:"Show in Privacy Overlay",name:"displayed_in_overlay",variant:"condensed"}),(0,_.jsx)(h.w8,{label:"API Only",name:"displayed_in_api",variant:"condensed"})]})]})]})]}),(0,_.jsxs)(l.hE,{size:"sm",spacing:2,children:[(0,_.jsx)(l.zx,{variant:"outline",onClick:function(){t.back()},children:"Cancel"}),(0,_.jsx)(l.zx,{type:"submit",variant:"primary",size:"sm",isDisabled:a||!n||!r,isLoading:a,"data-testid":"save-btn",children:"Save"})]})]})})}})}},20800:function(e,n,t){t.d(n,{B:function(){return a},y:function(){return r}});var r=new Map([["opt_in","Opt in"],["notice_only","Notice only"],["opt_out","Opt out"]]),a=new Map([["system_wide","System wide"],["frontend","Front end"],["not_applicable","Not applicable"]])}}]);