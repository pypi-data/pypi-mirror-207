"use strict";(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[1950],{31950:(e,t,r)=>{r.r(t),r.d(t,{default:()=>C,lineColItem:()=>R});var o=r(58807),i=r(55781),n=r(46257),a=r(16034),s=r(36556),d=r(70664),l=r(46045),c=r(49501),u=r(89319),g=r.n(u),m=r(78156),p=r.n(m);const h="@jupyterlab/codemirror-extension:plugin",f={id:"@jupyterlab/codemirror-extension:languages",description:"Provides the CodeMirror languages registry.",provides:s.IEditorLanguageRegistry,optional:[a.ITranslator],activate:(e,t)=>{const o=new s.EditorLanguageRegistry;for(const e of s.EditorLanguageRegistry.getDefaultLanguages(t))o.addLanguage(e);return o.addLanguage({name:"ipythongfm",mime:"text/x-ipythongfm",load:async()=>(await Promise.all([r.e(2979),r.e(4205),r.e(4785),r.e(1584),r.e(9799),r.e(6271),r.e(3835),r.e(4837),r.e(2308),r.e(6945)]).then(r.bind(r,76271))).markdown({codeLanguages:e=>o.findBest(e)})}),o}},v={id:"@jupyterlab/codemirror-extension:themes",description:"Provides the CodeMirror theme registry",provides:s.IEditorThemeRegistry,optional:[a.ITranslator],activate:(e,t)=>{const r=new s.EditorThemeRegistry;for(const e of s.EditorThemeRegistry.getDefaultThemes(t))r.addTheme(e);return r}},y={id:"@jupyterlab/codemirror-extension:extensions",description:"Provides the CodeMirror extension factory registry.",provides:s.IEditorExtensionRegistry,requires:[s.IEditorThemeRegistry],optional:[a.ITranslator,d.ISettingRegistry,l.IFormRendererRegistry],activate:(e,t,r,o,i)=>{const n=new s.EditorExtensionRegistry;for(const e of s.EditorExtensionRegistry.getDefaultExtensions({themes:t,translator:r}))n.addExtension(e);if(o){const t=e=>{var t;n.baseConfiguration=null!==(t=e.get("defaultConfig").composite)&&void 0!==t?t:{}};Promise.all([o.load(h),e.restored]).then((([e])=>{t(e),e.changed.connect(t)})),null==i||i.addRenderer(`${h}.defaultConfig`,{fieldRenderer:e=>{const t=p().useMemo((()=>n.settingsSchema),[]),o=e.formContext.settings.id===h?n.baseConfiguration:n.defaultConfiguration,i={};for(const[e,r]of Object.entries(o))void 0!==t[e]&&(i[e]=r);return p().createElement("div",{className:"jp-FormGroup-contentNormal"},p().createElement("h3",{className:"jp-FormGroup-fieldLabel jp-FormGroup-contentItem"},e.schema.title),e.schema.description&&p().createElement("div",{className:"jp-FormGroup-description"},e.schema.description),p().createElement(l.FormComponent,{schema:{title:e.schema.title,description:e.schema.description,type:"object",properties:t,additionalProperties:!1},validator:g(),formData:{...i,...e.formData},formContext:{defaultFormData:i},liveValidate:!0,onChange:t=>{var r;const o={};for(const[e,n]of Object.entries(null!==(r=t.formData)&&void 0!==r?r:{})){const t=i[e];void 0!==t&&c.JSONExt.deepEqual(n,t)||(o[e]=n)}e.onChange(o)},tagName:"div",translator:null!=r?r:a.nullTranslator}))}})}return n}},E={id:"@jupyterlab/codemirror-extension:binding",description:"Register the CodeMirror extension factory binding the editor and the shared model.",autoStart:!0,requires:[s.IEditorExtensionRegistry],activate:(e,t)=>{t.addExtension({name:"shared-model-binding",factory:e=>{var t;const r=e.model.sharedModel;return s.EditorExtensionRegistry.createImmutableExtension((0,s.ybinding)({ytext:r.ysource,undoManager:null!==(t=r.undoManager)&&void 0!==t?t:void 0}))}})}},x={id:"@jupyterlab/codemirror-extension:services",description:"Provides the service to instantiate CodeMirror editors.",provides:i.IEditorServices,requires:[s.IEditorLanguageRegistry,s.IEditorExtensionRegistry,s.IEditorThemeRegistry],optional:[a.ITranslator],activate:(e,t,r,o)=>({factoryService:new s.CodeMirrorEditorFactory({extensions:r,languages:t,translator:null!=o?o:a.nullTranslator}),mimeTypeService:new s.CodeMirrorMimeTypeService(t)})},R={id:"@jupyterlab/codemirror-extension:line-col-status",description:"Provides the code editor cursor position model.",autoStart:!0,requires:[a.ITranslator],optional:[o.ILabShell,n.IStatusBar],provides:i.IPositionModel,activate:(e,t,r,o)=>{const n=new i.LineCol(t),a=new Set;function s(e,t){Promise.all([...a].map((e=>e(t.newValue)))).then((e=>{var t;n.model.editor=null!==(t=e.filter((e=>null!==e))[0])&&void 0!==t?t:null})).catch((e=>{console.error("Get editors",e)}))}return o&&o.registerStatusItem(R.id,{item:n,align:"right",rank:2,isActive:()=>!!n.model.editor}),r&&r.currentChanged.connect(s),{addEditorProvider:t=>{a.add(t),e.shell.currentWidget&&s(e.shell,{newValue:e.shell.currentWidget,oldValue:null})},update:()=>{s(e.shell,{oldValue:e.shell.currentWidget,newValue:e.shell.currentWidget})}}}},C=[f,v,E,y,x,R]}}]);