<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" vocab="https://schema.org" typeof="WebPage">
    <head>
        % if title:
        <title property="headline">${title}</title>
        % endif
	<!-- begin: math stuff -->
	<!-- loads KaTeX libraries -->
	<!-- borrow from pandoc -->
  	<script defer="" src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
  	<script>
	 document.addEventListener("DOMContentLoaded", function () {
	 var mathElements = document.getElementsByClassName("math");
	 var macros = [];
	 for (var i = 0; i < mathElements.length; i++) {
	  var texText = mathElements[i].firstChild;
	  if (mathElements[i].tagName == "SPAN") {
	   katex.render(texText.data, mathElements[i], {
	    displayMode: mathElements[i].classList.contains('display'),
	    throwOnError: false,
	    macros: macros,
	    fleqn: false
	   });
	}}});
  	</script>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css" />
	<!-- end: math stuff -->
    </head>
    <body>
	<header>
	% if navbar is not UNDEFINED and isinstance(navbar, list):
	<nav id="menu">
	% for t in navbar:
	% if isinstance(t, dict):
	% if 'title' in t.keys () and 'url' in t.keys():
	<a class="pinned" href="${t['url']}">${t['title']}</a>
	% endif
	% endif
	% endfor
	</nav>
	% endif
	</header>
        ${conversion}
    </body>
    <footer>
           <p>Generated by <a href="https://repo.or.cz/cagen.git">cagen</a>
           % if sourcefile is not UNDEFINED:
           from <a href="${sourcefile}">original markdown file</a>
           <%!
		import datetime
	   %>
           % endif
           on <time datetime="${datetime.datetime.now().isoformat()}">${datetime.datetime.now().strftime("%c")}</time>
           .</p>
    </footer>
</html>
