{% extends '_core/base.html'%}

{% from '_components/_layout/head.html' import MacroHead %}

{% block Head %}
{{ MacroHead(False) }}
<title>Portal - Login</title>
<link rel="preload stylesheet" as="style" href="{{url_for('portal.static',filename='css/login.css')}}">
{% endblock %}

{% block Body %}
<main class="page-login">
    <video autoplay muted loop class="bg-login">
        <source src="{{url_for('portal.static',filename='movie/bg-login.mp4')}}" type="video/mp4">
    </video>
    <form action="post" class="form " id="form-login">
        <h1 class="text-white h3 text-center">Portal Sistema</h1>
        <div class="form-group mb-3">
            <label for="email" class="form-label text-white">Usuario</label>
            <input type="text" name="email" id="email" placeholder="nome@mail.com" class="form-control">
        </div>
        <div class="form-group mb-3">
            <label for="senha" class="form-label text-white">Senha</label>
            <input type="password" name="senha" id="senha" placeholder="*********" class="form-control">
        </div>
        <div class="form-group d-flex justify-content-between">
            <div class="form-check align-self-center">
                <input type="checkbox" name="remember" id="remember" class="form-check-input">
                <label for="remember" class="form-check-label text-white">Lembrar-me</label>
            </div>
            <input type="submit" class="btn btn-primary" value="Entrar" id="submit">
        </div>
    </form>
</main>
<script src="{{url_for('portal.static',filename='js/index.js')}}"></script>
<script>
    const element_bg_login = $('.bg-login')
    window.addEventListener('resize', resaze_bg_login)
    resaze_bg_login()
    const element_form_login = $('#form-login')
    element_form_login.submit(
        get_submit_login(
            {
                url: "{{url_for('api.usuario-auth')}}",
                next: "{{url_for('portal.permissions')}}",
                email: '#email',
                senha: '#senha',
                remember: '#remember'
            }
        )
    )
    remember_email()
</script>
{% endblock %}