import{P as Y}from"./ListviewItem.vue_vue_type_style_index_0_lang-8c038c80.js";import{p as E,e as G,f as n,i as K,r as A,K as q,j as J,w as O,d as Q,v as k,c as R,l,B as c,q as i,n as s,A as o,s as u,P as F,y,x as p,C as d,m as H,F as I,D as B,z as D,Y as N}from"./index-4822884e.js";import{_ as U,p as W,c as j}from"./utils-9ffe70c1.js";import{g as X,b as Z}from"./MediaItemContextMenu.vue_vue_type_style_index_0_lang-fffa51b4.js";import{c as _,a as z,d as ee,V as te}from"./VCardText-4f782ffb.js";import{b as ie,V as b,a as M,c as ae}from"./VCard-8d6cfe56.js";import{V as le}from"./VTooltip-c3262e6e.js";import{m as ne,u as re,b as v,V as $,n as oe}from"./VBtn-100eb5c9.js";import{V as me}from"./VMenu-5ed60cfc.js";import{V as se}from"./forwardRefs-29398c77.js";import{b as de,c as ue}from"./layout-9306fbbd.js";import{V as ce}from"./VDialog-057042a1.js";import{b as ye}from"./VSelect-75f2de4e.js";const fe=E({...ne(),...de()},"v-layout"),S=G()({name:"VLayout",props:fe(),setup(e,m){let{slots:f}=m;const{layoutClasses:x,layoutStyles:w,getLayoutItem:L,items:V,layoutRef:T}=ue(e);return re(()=>{var h;return n("div",{ref:T,class:[x.value,e.class],style:[w.value,e.style]},[(h=f.default)==null?void 0:h.call(f)])}),{getLayoutItem:L,items:V}}}),ge={key:0,xs5:"","pa-5":"",style:{width:"230px",height:"230px","margin-top":"15px","margin-bottom":"15px","margin-right":"24px"}},pe={key:0},be={key:1},ve={style:{"padding-bottom":"10px"}},he=["onClick"],ke={style:{color:"primary"}},xe={style:{display:"flex","margin-left":"14px","padding-bottom":"10px"}},Ve=["innerHTML"],Ce={key:1,class:"justify-center",style:{"margin-left":"15px","padding-bottom":"20px"}},$e={style:{position:"absolute",float:"right",right:"15px",top:"15px"}},je=K({__name:"InfoHeader",props:{item:null},setup(e){const m=e,f=A(!1),x=A(),{mobile:w}=q(),L=new URL(""+new URL("info_gradient-a4aefd1d.jpg",import.meta.url).href,self.location).href,V=J();O(()=>m.item,async t=>{t&&(k.topBarTitle=t.name,x.value=j(m.item,N.FANART)||j(m.item,N.THUMB),k.topBarContextMenuItems=Z([t],t))},{immediate:!0}),Q(()=>{k.topBarContextMenuItems=[]});const T=function(t){V.push({name:"album",params:{itemId:t.item_id,provider:t.provider}})},h=function(t){console.log("artistClick",t),V.push({name:"artist",params:{itemId:t.item_id,provider:t.provider}})},C=R(()=>{let t="";return m.item?(m.item.metadata&&m.item.metadata.description?t=m.item.metadata.description:m.item.metadata&&m.item.metadata.copyright?t=m.item.metadata.copyright:"artists"in m.item&&m.item.artists.forEach(function(r){"metadata"in r&&r.metadata.description&&(t=r.metadata.description)}),t=t.replace(`\r
`,"<br /><br /><br />"),t=t.replace("\r","<br /><br />"),t=t.replace(`
`,"<br /><br />"),t):""}),P=R(()=>{const t=w.value?160:260;return C.value.length>t?C.value.substring(0,t)+"...":C.value});return(t,r)=>(l(),c("div",null,[n(M,{variant:"flat",img:u(L),style:{"margin-top":"-10px","z-index":"0"},height:"30vh","max-height":"500px","min-height":"340px"},{default:i(()=>[e.item?o("",!0):(l(),s(oe,{key:0,indeterminate:""})),n(_,{width:"100%",height:"100%",cover:"",class:"background-image",src:x.value,gradient:t.$vuetify.theme.current.dark?"to bottom, rgba(0,0,0,.90), rgba(0,0,0,.75)":"to bottom, rgba(255,255,255,.90), rgba(255,255,255,.75)"},null,8,["src","gradient"]),e.item?(l(),s(S,{key:1,style:{margin:"0",position:"absolute",top:"50%","-ms-transform":"translateY(-50%)",transform:"translateY(-50%)","padding-left":"15px","align-items":"center","padding-right":"15px"}},{default:i(()=>[t.$vuetify.display.mobile?o("",!0):(l(),c("div",ge,[e.item.media_type&&(e.item.media_type==u(F).ARTIST||"owner"in e.item)?(l(),c("div",pe,[n(z,{size:"192"},{default:i(()=>[n(U,{item:e.item,height:"230px",width:"230px"},null,8,["item"])]),_:1})])):(l(),c("div",be,[n(U,{width:"230px",item:e.item},null,8,["item"])]))])),y("div",null,[n(ie,null,{default:i(()=>[p(d(e.item.name),1)]),_:1}),y("div",ve,["version"in e.item&&e.item.version?(l(),s(b,{key:0,class:"caption"},{default:i(()=>[p(d(e.item.version)+" ",1),n(le,{location:"bottom"},{activator:i(({props:a})=>[u(W)(e.item.metadata.explicit||!1)?(l(),s(v,H({key:0},a,{class:"listitem-action",icon:"mdi-alpha-e-box",width:"35"}),null,16)):o("",!0)]),default:i(()=>[y("span",null,d(t.$t("tooltip.explicit")),1)]),_:1})]),_:1})):o("",!0),"artists"in e.item&&e.item.artists?(l(),s(b,{key:1,class:"title accent--text"},{default:i(()=>[n(v,{style:{"margin-left":"-3px","margin-right":"3px"},small:"",color:"primary",icon:"mdi-account-music"}),(l(!0),c(I,null,B(e.item.artists,(a,g)=>(l(),c("span",{key:a.item_id},[y("a",{style:{color:"accent"},onClick:we=>h(a)},d(a.name),9,he),g+1<e.item.artists.length?(l(),c("span",{key:g,style:{color:"accent"}},d(" / "))):o("",!0)]))),128))]),_:1})):o("",!0),"artist"in e.item&&e.item.artist?(l(),s(b,{key:2,class:"title"},{default:i(()=>[n(v,{style:{"margin-left":"-3px","margin-right":"3px"},small:"",color:"primary",icon:"mdi-account-music"}),y("a",{onClick:r[0]||(r[0]=a=>h(e.item.artist))},d(e.item.artist.name),1)]),_:1})):o("",!0),"owner"in e.item&&e.item.owner?(l(),s(b,{key:3,class:"title"},{default:i(()=>[n(v,{color:"primary",style:{"margin-left":"-3px","margin-right":"3px"},small:"",icon:"mdi-account-music"}),y("a",ke,d(e.item.owner),1)]),_:1})):o("",!0),"album"in e.item&&e.item.album?(l(),s(b,{key:4},{default:i(()=>[n(v,{color:"primary",style:{"margin-left":"-3px","margin-right":"3px"},small:"",icon:"mdi-album"}),y("a",{style:{color:"secondary"},onClick:r[1]||(r[1]=a=>{var g;return T((g=e.item)==null?void 0:g.album)})},d(e.item.album.name),1)]),_:1})):o("",!0)]),y("div",xe,[n(me,{location:"bottom"},{activator:i(({props:a})=>{var g;return[n($,H({color:"primary"},a,{"prepend-icon":"mdi-play-circle",disabled:!((g=u(k).selectedPlayer)!=null&&g.available)||u(k).blockGlobalPlayMenu}),{default:i(()=>[p(d(t.$t("play")),1)]),_:2},1040,["disabled"])]}),default:i(()=>[n(M,{"min-width":"300"},{default:i(()=>[n(se,{lines:"one",density:"comfortable"},{default:i(()=>[(l(!0),c(I,null,B(u(X)([e.item]),a=>(l(),s(te,{key:a.label,title:t.$t(a.label,a.labelArgs),onClick:g=>a.action?a.action():""},{prepend:i(()=>[n(z,{style:{"padding-right":"10px"}},{default:i(()=>[n(v,{icon:a.icon},null,8,["icon"])]),_:2},1024)]),_:2},1032,["title","onClick"]))),128))]),_:1})]),_:1})]),_:1}),!t.$vuetify.display.mobile&&!e.item.in_library?(l(),s($,{key:0,style:{"margin-left":"10px"},color:"primary",tile:"","prepend-icon":"mdi-heart-outline",onClick:r[2]||(r[2]=a=>u(D).addItemsToLibrary([e.item]))},{default:i(()=>[p(d(t.$t("add_library")),1)]),_:1})):o("",!0),!t.$vuetify.display.mobile&&e.item.in_library?(l(),s($,{key:1,style:{"margin-left":"10px"},color:"primary",tile:"","prepend-icon":"mdi-heart",onClick:r[3]||(r[3]=a=>u(D).removeItemsFromLibrary([e.item]))},{default:i(()=>[p(d(t.$t("remove_library")),1)]),_:1})):o("",!0)]),u(P)?(l(),s(b,{key:0,class:"body-2 justify-left",style:{"padding-bottom":"10px","white-space":"pre-line",cursor:"pointer"},onClick:r[4]||(r[4]=a=>f.value=!f.value)},{default:i(()=>[y("div",{innerHTML:u(P)},null,8,Ve)]),_:1})):o("",!0),e.item&&e.item.metadata.genres?(l(),c("div",Ce,[(l(!0),c(I,null,B(e.item.metadata.genres.slice(0,t.$vuetify.display.mobile?15:25),a=>(l(),s(ye,{key:a,color:"blue-grey lighten-1",style:{"margin-right":"5px","margin-bottom":"5px"},small:"",outlined:""},{default:i(()=>[p(d(a),1)]),_:2},1024))),128))])):o("",!0)])]),_:1})):o("",!0),e.item?(l(),s(S,{key:2,style:{"z-index":"800",height:"100%","padding-left":"15px"}},{default:i(()=>[y("div",$e,[n(Y,{"provider-mappings":e.item.provider_mappings,height:25,"enable-details":!0,"enable-preview":e.item.media_type==u(F).TRACK},null,8,["provider-mappings","enable-preview"])])]),_:1})):o("",!0)]),_:1},8,["img"]),n(ce,{modelValue:f.value,"onUpdate:modelValue":r[6]||(r[6]=a=>f.value=a),width:"auto"},{default:i(()=>[n(M,null,{default:i(()=>[n(ee,{innerHTML:u(C)},null,8,["innerHTML"]),n(ae,null,{default:i(()=>[n($,{color:"primary",block:"",onClick:r[5]||(r[5]=a=>f.value=!1)},{default:i(()=>[p(d(t.$t("close")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}});export{je as _};
