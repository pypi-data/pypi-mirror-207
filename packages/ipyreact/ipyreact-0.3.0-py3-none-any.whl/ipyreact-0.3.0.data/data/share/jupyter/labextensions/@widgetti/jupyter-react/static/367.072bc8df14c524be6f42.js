(self.webpackChunk_widgetti_jupyter_react=self.webpackChunk_widgetti_jupyter_react||[]).push([[367],{49:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorBoundary=void 0;const o=r(n(294));class s extends o.default.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){}render(){if(this.state.hasError){const e=this.state.error.message;return o.default.createElement("div",null,o.default.createElement("h1",null,"Error"),";",o.default.createElement("pre",null,e),o.default.createElement("button",{onClick:()=>this.setState({hasError:!1})},"Try again"))}return this.props.children}}t.ErrorBoundary=s},988:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,s){function a(e){try{c(r.next(e))}catch(e){s(e)}}function i(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,i)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.loadScript=t.setUpReact18ESM=t.setUpReact16ESM=t.setUpMuiFixModule=void 0;const o=n(854);t.setUpMuiFixModule=function(){return r(this,void 0,void 0,(function*(){const e=o.transform("\n// This is a specific 'fix' for the notebook only, since its fontsize is non-16\nimport React from 'react';\n// import PropTypes from 'prop-types';\n// import { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport Typography from '@mui/material/Typography';\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\n\nconst theme = createTheme({\n  typography: {\n    // Tell Material-UI what the font-size on the html element is.\n    htmlFontSize: 10,\n    useNextVariants: true,\n},\n});\n\nfunction FontSizeTheme({ children }) {\n    return (\n        <ThemeProvider theme={theme}>\n            <Typography component=\"span\">{children}</Typography>\n        </ThemeProvider>\n    );\n}\n\n// FontSizeTheme.propTypes = {\n//     children: PropTypes.node.isRequired,\n// };\n\nexport\nfunction styleWrapper(element) {\n    if(window.Jupyter) {\n        return <FontSizeTheme>{element}</FontSizeTheme>;\n    } else {\n        return element;\n    }\n}\n",{transforms:["jsx","typescript"],filePath:"muifix.tsx"}).code;let t=URL.createObjectURL(new Blob([e],{type:"text/javascript"}));return yield importShim(t)}))},t.setUpReact16ESM=function(){return r(this,void 0,void 0,(function*(){return{urlReact:URL.createObjectURL(new Blob(["\n      let r = window.React16FromIpyReact;\n      const Children = r.Children;\n      const Component = r.Component;\n      const Fragment = r.Fragment;\n      const Profiler = r.Profiler;\n      const PureComponent = r.PureComponent;\n      const StrictMode = r.StrictMode;\n      const Suspense = r.Suspense;\n      const cloneElement = r.cloneElement;\n      const createContext = r.createContext;\n      const createElement = r.createElement;\n      const createFactory = r.createFactory;\n      const createRef = r.createRef;\n      const forwardRef = r.forwardRef;\n      const isValidElement = r.isValidElement;\n      const lazy = r.lazy;\n      const memo = r.memo;\n      const startTransition = r.startTransition;\n      const unstable_act = r.unstable_act;\n      const useCallback = r.useCallback;\n      const useContext = r.useContext;\n      const useDebugValue = r.useDebugValue;\n      const useDeferredValue = r.useDeferredValue;\n      const useEffect = r.useEffect;\n      const useId = r.useId;\n      const useImperativeHandle = r.useImperativeHandle;\n      const useInsertionEffect = r.useInsertionEffect;\n      const useLayoutEffect = r.useLayoutEffect;\n      const useMemo = r.useMemo;\n      const useReducer = r.useReducer;\n      const useRef = r.useRef;\n      const useState = r.useState;\n      const useSyncExternalStore = r.useSyncExternalStore;\n      const useTransition = r.useTransition;\n      const version = r.version;\n      const __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  \n      export default r.default;\n      export {\n        Children,\n        Component,\n        Fragment,\n        Profiler,\n        PureComponent,\n        StrictMode,\n        Suspense,\n        cloneElement,\n        createContext,\n        createElement,\n        createFactory,\n        createRef,\n        forwardRef,\n        isValidElement,\n        lazy,\n        memo,\n        startTransition,\n        unstable_act,\n        useCallback,\n        useContext,\n        useDebugValue,\n        useDeferredValue,\n        useEffect,\n        useId,\n        useImperativeHandle,\n        useInsertionEffect,\n        useLayoutEffect,\n        useMemo,\n        useReducer,\n        useRef,\n        useState,\n        useSyncExternalStore,\n        useTransition,\n        version,\n        __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,\n      };"],{type:"text/javascript"})),urlReactDom:URL.createObjectURL(new Blob(["\n        let r = window.ReactDOM16FromIpyReact;\n        const createPortal = r.createPortal;\n        const createRoot = r.createRoot;\n        const findDOMNode = r.findDOMNode;\n        const flushSync = r.flushSync;\n        const hydrate = r.hydrate;\n        const hydrateRoot = r.hydrateRoot;\n        const render = r.render;\n        const unmountComponentAtNode = r.unmountComponentAtNode;\n        const unstable_batchedUpdates = r.unstable_batchedUpdates;\n        const unstable_renderSubtreeIntoContainer = r.unstable_renderSubtreeIntoContainer;\n        const version = r.version;\n        const __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n        export default r.default;\n        export {\n            createPortal,\n            createRoot,\n            findDOMNode,\n            flushSync,\n            hydrate,\n            hydrateRoot,\n            render,\n            unmountComponentAtNode,\n            unstable_batchedUpdates,\n            unstable_renderSubtreeIntoContainer,\n            version,\n            __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,\n        };"],{type:"text/javascript"}))}}))},t.setUpReact18ESM=function(){return r(this,void 0,void 0,(function*(){return{urlReact:URL.createObjectURL(new Blob(["\n      let r = window.React18FromIpyReact;\n      const Children = r.Children;\n      const Component = r.Component;\n      const Fragment = r.Fragment;\n      const Profiler = r.Profiler;\n      const PureComponent = r.PureComponent;\n      const StrictMode = r.StrictMode;\n      const Suspense = r.Suspense;\n      const cloneElement = r.cloneElement;\n      const createContext = r.createContext;\n      const createElement = r.createElement;\n      const createFactory = r.createFactory;\n      const createRef = r.createRef;\n      const forwardRef = r.forwardRef;\n      const isValidElement = r.isValidElement;\n      const lazy = r.lazy;\n      const memo = r.memo;\n      const startTransition = r.startTransition;\n      const unstable_act = r.unstable_act;\n      const useCallback = r.useCallback;\n      const useContext = r.useContext;\n      const useDebugValue = r.useDebugValue;\n      const useDeferredValue = r.useDeferredValue;\n      const useEffect = r.useEffect;\n      const useId = r.useId;\n      const useImperativeHandle = r.useImperativeHandle;\n      const useInsertionEffect = r.useInsertionEffect;\n      const useLayoutEffect = r.useLayoutEffect;\n      const useMemo = r.useMemo;\n      const useReducer = r.useReducer;\n      const useRef = r.useRef;\n      const useState = r.useState;\n      const useSyncExternalStore = r.useSyncExternalStore;\n      const useTransition = r.useTransition;\n      const version = r.version;\n      const __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  \n      export default r.default;\n      export {\n        Children,\n        Component,\n        Fragment,\n        Profiler,\n        PureComponent,\n        StrictMode,\n        Suspense,\n        cloneElement,\n        createContext,\n        createElement,\n        createFactory,\n        createRef,\n        forwardRef,\n        isValidElement,\n        lazy,\n        memo,\n        startTransition,\n        unstable_act,\n        useCallback,\n        useContext,\n        useDebugValue,\n        useDeferredValue,\n        useEffect,\n        useId,\n        useImperativeHandle,\n        useInsertionEffect,\n        useLayoutEffect,\n        useMemo,\n        useReducer,\n        useRef,\n        useState,\n        useSyncExternalStore,\n        useTransition,\n        version,\n        __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,\n      };"],{type:"text/javascript"})),urlReactDom:URL.createObjectURL(new Blob(["\n        let r = window.ReactDOM18FromIpyReact;\n        const createPortal = r.createPortal;\n        const createRoot = r.createRoot;\n        const findDOMNode = r.findDOMNode;\n        const flushSync = r.flushSync;\n        const hydrate = r.hydrate;\n        const hydrateRoot = r.hydrateRoot;\n        const render = r.render;\n        const unmountComponentAtNode = r.unmountComponentAtNode;\n        const unstable_batchedUpdates = r.unstable_batchedUpdates;\n        const unstable_renderSubtreeIntoContainer = r.unstable_renderSubtreeIntoContainer;\n        const version = r.version;\n        const __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n        export default r.default;\n        export {\n            createPortal,\n            createRoot,\n            findDOMNode,\n            flushSync,\n            hydrate,\n            hydrateRoot,\n            render,\n            unmountComponentAtNode,\n            unstable_batchedUpdates,\n            unstable_renderSubtreeIntoContainer,\n            version,\n            __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,\n        };"],{type:"text/javascript"}))}}))},t.loadScript=function(e,t){return r(this,void 0,void 0,(function*(){const n=document.createElement("script");return n.type=e,n.src=t,n.defer=!0,document.head.appendChild(n),new Promise(((e,t)=>{n.onload=()=>{e()},n.onerror=()=>{t()}}))}))}},657:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MODULE_NAME=t.MODULE_VERSION=void 0;const r=n(147);t.MODULE_VERSION=r.version,t.MODULE_NAME=r.name},367:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,s){function a(e){try{c(r.next(e))}catch(e){s(e)}}function i(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,i)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ReactView=t.ReactModel=void 0;const i=n(829),c=s(n(294)),l=n(294),u=s(n(935)),d=s(n(745));n(204);const m=n(988),p=n(657),_=n(854),f=n(49);let h=null;window.esmsInitOptions={shimMode:!0,resolve:(e,t,n)=>function(e,t,n){const r="react"==e||"react-dom"==e,o=t.includes("?external=react,react-dom"),s=t.startsWith("https://esm.sh/"),a=e.startsWith("blob:");return r||e.includes("://")||s||(e="https://esm.sh/"+e),r||o||a||(e+="?external=react,react-dom"),n(e,t)}(e,t,n)};let b=null,y=null;class E extends i.DOMWidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:E.model_name,_model_module:E.model_module,_model_module_version:E.model_module_version,_view_name:E.view_name,_view_module:E.view_module,_view_module_version:E.view_module_version,value:null})}}t.ReactModel=E,E.serializers=Object.assign({},i.DOMWidgetModel.serializers),E.model_name="ReactModel",E.model_module=p.MODULE_NAME,E.model_module_version=p.MODULE_VERSION,E.view_name="ReactView",E.view_module=p.MODULE_NAME,E.view_module_version=p.MODULE_VERSION;class R extends i.DOMWidgetView{render(){window.React18FromIpyReact=c,window.ReactDOM18FromIpyReact=u,this.el.classList.add("jupyter-react-widget");const e=()=>{const[e,t]=l.useState(0),n=()=>{t((e=>e+1))};l.useEffect((()=>{this.listenTo(this.model,"change",n)}),[]);const r=c.useMemo((()=>{const e=this.model.get("_esm");this.model.get("debug")&&console.log("original code:\n",e);try{let t=_.transform(e,{transforms:["jsx","typescript"],filePath:"test.tsx"}).code;return this.model.get("debug")&&console.log("compiledCode:\n",t),t}catch(e){return e}}),[this.model.get("_esm")]),o={};for(const e of this.model.attributes._event_names){const t=(t,n)=>{n&&(n instanceof Array&&n[0]instanceof ArrayBuffer||(console.warn("second argument is not an BufferArray[View] array"),n=void 0)),this.model.send({event_name:e,data:t},this.model.callbacks(this),n)};o["on_"+e]=t}for(const e of Object.keys(this.model.attributes))o[e]=this.model.get(e),o["on_"+e]=t=>{console.warn(`on_${e} is deprecated, use set_${e} instead`),this.model.set(e,t),this.touch()},o["set_"+e]=t=>{this.model.set(e,t),this.touch()};const[s,i]=c.useState(null),[u,d]=c.useState(null);if(c.useEffect((()=>{let e=null;return(()=>{a(this,void 0,void 0,(function*(){if(r instanceof Error)return void i(r);const{urlReact:t,urlReactDom:n}=yield function(e){return a(this,void 0,void 0,(function*(){return 18==e?(null==b&&(b=m.setUpReact18ESM()),yield b):16==e?(null==y&&(y=m.setUpReact16ESM()),yield y):void 0}))}(this.model.get("react_version"));yield function(){return a(this,void 0,void 0,(function*(){return null==h&&(h=m.loadScript("module","https://ga.jspm.io/npm:es-module-shims@1.7.0/dist/es-module-shims.js")),yield h}))}();let o=r;const s=this.model.get("_import_map"),c={imports:Object.assign({react:t,"react-dom":n},s.imports),scopes:s.scopes};importShim.addImportMap(c),-1!==r.indexOf("@mui")&&d(yield m.setUpMuiFixModule()),e=URL.createObjectURL(new Blob([o],{type:"text/javascript"}));try{let t=yield importShim(e),n=this.model.get("name");n&&n.length>0&&importShim.addImportMap({imports:{[n]:e}}),i(t)}catch(e){i(e)}}))})(),()=>{e&&URL.revokeObjectURL(e)}}),[r]),s){if(s instanceof Error)return c.createElement("pre",null,s.message);if(void 0===s.default)return c.createElement("div",null,"Missing default component");{this.model.get("debug")&&console.log("props",o);let e=c.createElement(s.default,o);const t=-1!==r.indexOf("@mui");return this.model.get("debug")&&console.log("needsMuiFix",t),t&&(e=u.styleWrapper(e)),e}}return c.createElement("div",null,"Loading...")};18===this.model.get("react_version")&&d.createRoot(this.el).render(c.createElement(f.ErrorBoundary,null,c.createElement(e,null)))}}t.ReactView=R},889:(e,t,n)=>{(t=n(645)(!1)).push([e.id,".jupyter-react-widget {\n  /* background-color: lightseagreen; */\n  padding: 0px 2px;\n}\n",""]),e.exports=t},204:(e,t,n)=>{var r=n(379),o=n(889);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.id,o,""]]);r(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},147:e=>{"use strict";e.exports=JSON.parse('{"name":"@widgetti/jupyter-react","version":"0.3.0","description":"React for ipywidgets that just works","keywords":["jupyter","jupyterlab","jupyterlab-extension","widgets"],"files":["lib/**/*.js","dist/*.js","css/*.css"],"homepage":"https://github.com/widgetti/ipyreact","bugs":{"url":"https://github.com/widgetti/ipyreact/issues"},"license":"BSD-3-Clause","author":{"name":"Maarten A. Breddels","email":"maartenbreddels@gmail.com"},"main":"lib/index.js","types":"./lib/index.d.ts","repository":{"type":"git","url":"https://github.com/widgetti/ipyreact"},"scripts":{"build":"yarn run build:lib && yarn run build:nbextension && yarn run build:labextension:dev","build:prod":"yarn run build:lib && yarn run build:nbextension && yarn run build:labextension","build:labextension":"jupyter labextension build .","build:labextension:dev":"jupyter labextension build --development True .","build:lib":"tsc","build:nbextension":"webpack","clean":"yarn run clean:lib && yarn run clean:nbextension && yarn run clean:labextension","clean:lib":"rimraf lib","clean:labextension":"rimraf ipyreact/labextension","clean:nbextension":"rimraf ipyreact/nbextension/static/index.js","lint":"eslint . --ext .ts,.tsx --fix","lint:check":"eslint . --ext .ts,.tsx","prepack":"yarn run build:lib","test":"jest","watch":"npm-run-all -p watch:*","watch:lib":"tsc -w","watch:nbextension":"webpack --watch --mode=development","watch:labextension":"jupyter labextension watch ."},"dependencies":{"@babel/preset-typescript":"^7.21.0","@babel/standalone":"^7.21.3","@jupyter-widgets/base":"^1.1.10 || ^2 || ^3 || ^4 || ^5 || ^6","@types/react":"^18.0.29","babel-plugin-import-map":"^1.0.0","es-module-shims":"^1.7.0","esbuild":"^0.17.14","raw-loader":"^4.0.2","react":"^18.2.0","react-dom":"^18.2.0","sucrase":"^3.30.0"},"devDependencies":{"@babel/core":"^7.5.0","@babel/preset-env":"^7.5.0","@jupyter-widgets/base-manager":"^1.0.2","@jupyterlab/builder":"^3.0.0","@lumino/application":"^1.6.0","@lumino/widgets":"^1.6.0","@types/babel__standalone":"^7.1.4","@types/jest":"^26.0.0","@types/react-dom":"^18.0.11","@types/webpack-env":"^1.13.6","@typescript-eslint/eslint-plugin":"^3.6.0","@typescript-eslint/parser":"^3.6.0","acorn":"^7.2.0","css-loader":"^3.2.0","eslint":"^7.4.0","eslint-config-prettier":"^6.11.0","eslint-plugin-prettier":"^3.1.4","fs-extra":"^7.0.0","identity-obj-proxy":"^3.0.0","jest":"^26.0.0","mkdirp":"^0.5.1","npm-run-all":"^4.1.3","prettier":"^2.0.5","rimraf":"^2.6.2","source-map-loader":"^1.1.3","style-loader":"^1.0.0","ts-jest":"^26.0.0","ts-loader":"^8.0.0","typescript":"~4.1.3","webpack":"^5.61.0","webpack-cli":"^4.0.0"},"jupyterlab":{"extension":"lib/plugin","outputDir":"ipyreact/labextension/","sharedPackages":{"@jupyter-widgets/base":{"bundled":false,"singleton":true},"react":false,"react-dom":false}}}')}}]);