/*! For license information please see swatchbook.js.LICENSE.txt */
(()=>{"use strict";var t,e={41:(t,e,n)=>{n.r(e)},586:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},l=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)l.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return l},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0,e.ColourBlockDefinition=e.ColourBlock=e.ColourInput=e.ColourInputWidget=e.COLOUR_PICKER=e.ColourPicker=void 0;var a=n(158),c=(s(n(363)),s(n(533)),s(n(311)),s(n(857)));n(41);var u=s(n(519)).default.constructors["wagtail.widgets.Widget"],h=(new u).boundWidgetClass,d=function(){function t(t,e,n,r,o,i,l){this.element=document.createElement("div"),this.element.className="swatchbook-colour-picker-manual-control",this.picker=t,this.colorName=e,this.variable=n,this.minValue=o,this.maxValue=i,this.isFloat=l,this.parseAs=this.isFloat?parseFloat:parseInt,this.input=document.createElement("input"),this.input.setAttribute("type","number"),this.input.setAttribute("value",0),this.input.setAttribute("min",this.minValue),this.input.setAttribute("max",this.maxValue),this.input.addEventListener("input",this.inputChanged.bind(this),!1),this.label=document.createElement("label"),this.label.innerText=r,this.element.insertBefore(this.label,null),this.element.insertBefore(this.input,null),t.on(["color:init","color:change"],this.update.bind(this))}return t.prototype.inputChanged=function(t){var e=this.picker.color[this.colorName],n=this.parseAs(this.input.value);null!=n&&n!=e[this.variable]&&(e[this.variable]=n,this.picker.color[this.colorName]=e)},t.prototype.update=function(t){var e=t[this.colorName][this.variable];e!=this.parseAs(this.input.value)&&(this.input.value=e)},t}(),f=function(t,e,n){var r,o,s;this.picker=t,this.colorName=e,this.element=document.createElement("div");var a={};try{for(var c=i(n),u=c.next();!u.done;u=c.next()){var h,f,p,v,g,_=u.value;h=(s=l(_,5))[0],f=s[1],p=s[2],v=s[3],g=s[4];var b=new d(t,e,h,f,p,v,g);a[h]=b,this.element.insertBefore(b.element,null)}}catch(t){r={error:t}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(r)throw r.error}}};function p(t,e,n,r){var o={width:180,handleRadius:5,color:e,sliderSize:16,layoutDirection:"horizontal"};null!=r&&(o=Object.assign(o,r)),o.layout=[{component:c.default.ui.Box,options:{}},{component:c.default.ui.Slider,options:{sliderType:"hue"}}],n&&o.layout.push({component:c.default.ui.Slider,options:{sliderType:"alpha"}});var i=[["h","H:",0,360,!0],["s","S:",0,1,!0],["l","L:",0,1,!0]];n&&i.push(["a","A:",0,1,!0]);var l=new c.default.ColorPicker(t,o);return i=new f(l,n?"hsla":"hsl",i),t.insertBefore(i.element,null),l}function v(t,e,n,r){var o={width:180,handleRadius:5,color:e,sliderSize:16,layoutDirection:"vertical"};null!=r&&(o=Object.assign(o,r)),o.layout=[{component:c.default.ui.Slider,options:{sliderType:"red"}},{component:c.default.ui.Slider,options:{sliderType:"green"}},{component:c.default.ui.Slider,options:{sliderType:"blue"}}],n&&o.layout.push({component:c.default.ui.Slider,options:{sliderType:"alpha"}});var i=[["r","R:",0,255,!1],["g","G:",0,255,!1],["b","B:",0,255,!1]];n&&i.push(["a","A:",0,1,!0]);var l=new c.default.ColorPicker(t,o);return i=new f(l,n?"rgba":"rgb",i),t.insertBefore(i.element,null),l}var g=function(t,e,n,r,o,i){this.container=document.createElement("div"),this.container.className="swatchbook-colour-picker-panel",this.container.dataset.swatchbookColourModel=e,n.insertBefore(this.container,null),this.picker=t(this.container,r,o,i),this.colourModel=e},_=function(){function t(t){var e,n;this.synchronize=this.synchronize.bind(this),this.on=this.on.bind(this),this.off=this.off.bind(this),this.broadcast=this.broadcast.bind(this),this.clicked_=this.clicked_.bind(this),this.computePosition_=this.computePosition_.bind(this),this.trackPosition_=this.trackPosition_.bind(this),this.scroll_=this.scroll_.bind(this),this.show_=this.show_.bind(this),this.hide_=this.hide_.bind(this),this.modelChanged=this.modelChanged.bind(this),this.element=t,this.element[0].style="visibility: hidden;",Object.defineProperties(this,{selectedColorModel:{configurable:!0,get:function(){if(!(this.select.selectedIndex<0))return this.select.options[this.select.selectedIndex].value},set:function(t){var e=Array.from(this.select.options).map((function(t){return t.value})).indexOf(t);e<0||(this.select.selectedIndex=e)}},selectedPanel:{configurable:!0,get:function(){if(null!=this.selectedColorModel)return this.panels[this.selectedColorModel]}},selectedColor:{configurable:!0,get:function(){var t=this.selectedColorModel;if(null!=t)return this.panels[t].picker.color}},selectedColorAndModel:{configurable:!0,get:function(){var t=this.selectedColorModel;if(null!=this.selectedColor&&null!=t)return{color_model:t,color:this.panels[t].picker.color}},set:function(t){var e=t.colorModel,n=t.color;null!=n&&null!=e&&(this.selectedColorModel=e,this.selectedPanel.picker.color[e]=n)}},attachedTo:{configurable:!0,get:function(){return this.attachedTo_},set:function(t){t!==this.attachedTo_&&(null!=this.attachedTo_&&this.hide_(),this.attachedTo_=t,null!=this.attachedTo_&&this.show_())}},placement:{configurable:!0,get:function(){return this.placement_},set:function(t){this.placement_=t}},alignment:{configurable:!0,get:function(){return this.alignment_},set:function(t){this.alignment_=t}}}),this.attachedTo_=null,this.placement_="right",this.alignment_="centre",this.lastScrollX_=null,this.lastScrollY_=null,this.requestedFrame_=!1,this.listeners_={},this.syncDepth_=0,this.select=function(t){var e,n,r,o=document.createElement("select");o.className="swatchbook-colour-model-select";try{for(var s=i([["hsla","HSLA"],["hsl","HSL"],["rgba","RGBA"],["rgb","RGB"]]),a=s.next();!a.done;a=s.next()){var c,u,h=a.value;c=(r=l(h,2))[0],u=r[1];var d=document.createElement("option");d.innerText=u,d.setAttribute("value",c),o.insertBefore(d,null)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return o}(),this.element[0].insertBefore(this.select,null),this.select.addEventListener("change",this.modelChanged,!1);var r={width:120,handleRadius:5,sliderSize:12},o="#f00";this.hslPicker=new g(p,"hsl",this.element[0],o,!1,r),this.rgbPicker=new g(v,"rgb",this.element[0],o,!1,r),this.hslaPicker=new g(p,"hsla",this.element[0],o,!0,r),this.rgbaPicker=new g(v,"rgba",this.element[0],o,!0,r),this.panels={hsl:this.hslPicker,rgb:this.rgbPicker,hsla:this.hslaPicker,rgba:this.rgbaPicker};try{for(var s=i(Object.getOwnPropertyNames(this.panels)),a=s.next();!a.done;a=s.next()){var c=a.value;this.panels[c].picker.on(["color:init","color:change"],this.synchronize)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}this.modelChanged()}return t.prototype.clicked_=function(t){null!=this.attachedTo_&&null==t.target.closest(".swatchbook-colour-picker")&&this.attachedTo_&&this.attachedTo_.hideColourPicker()},t.prototype.on=function(t,e){var n,r,o,l,s=[];try{for(var a=i(t),c=a.next();!c.done;c=a.next()){var u=c.value;if("swatchbook:color_init"==u||"swatchbook:color_change"==u){var h=this.listeners_[u];null==h&&(h=[],this.listeners_[u]=h),h.push(e),"swatchbook:color_init"==u&&s.push(e)}}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}var d=this.selectedPanel;if(null!=d){var f={colorModel:d.colourModel,color:d.picker.color[d.colourModel]};try{for(var p=i(s),v=p.next();!v.done;v=p.next())(0,v.value)(f)}catch(t){o={error:t}}finally{try{v&&!v.done&&(l=p.return)&&l.call(p)}finally{if(o)throw o.error}}}},t.prototype.off=function(t,e){var n,r;try{for(var o=i(t),l=o.next();!l.done;l=o.next()){var s=l.value;if("swatchbook:color_init"==s||"swatchbook:color_change"==s){var a=this.listeners_[s];if(null!=a){var c=a.lastIndexOf(e);c<0||(a.splice(c,1),0==a.length&&delete this.listeners_[s])}}}}catch(t){n={error:t}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},t.prototype.broadcast=function(t,e,n){var r,o,l=this.listeners_[t];if(null!=l){var s={colorModel:e,color:n};try{for(var a=i(l),c=a.next();!c.done;c=a.next())(0,c.value)(s)}catch(t){r={error:t}}finally{try{c&&!c.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}}},t.prototype.synchronize=function(t){var e,n;if(!(this.syncDepth_<0)){this.syncDepth_-=1;try{for(var r=i(Object.getOwnPropertyNames(this.panels)),o=r.next();!o.done;o=r.next()){var l=o.value,s=this.panels[l].picker,a=l+"String";s.color[a]!=t[a]&&(s.color[a]=t[a])}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}this.syncDepth_+=1;var c=this.selectedPanel;null!=c&&this.broadcast("swatchbook:color_change",c.colourModel,c.picker.color[c.colourModel])}},t.prototype.computePosition_=function(){if(null==this.attachedTo_)return[null,null];var t=16,e=this.attachedTo_.swatchElement.getBoundingClientRect();e={top:e.top-t,left:e.left-t,x:e.x-t,y:e.y-t,bottom:e.bottom+t,right:e.right+t,width:e.width+32,height:e.height+32};var n=this.element[0].getBoundingClientRect(),r=n.width,o=n.height,i=null,l=null;switch(this.placement_){case"above":i=e.top-o;break;case"below":i=e.bottom;break;case"left":l=e.left-r;break;default:l=e.right}var s=.5;switch(this.alignment_){case"start":s=0;break;case"end":s=1}return null==l?l=e.left+(e.width-r)*s:i=e.top+(e.height-o)*s,[l,i]},t.prototype.trackPosition_=function(){var t,e,n;e=(t=l(this.computePosition_(),2))[0],n=t[1],null!=e&&null!=n&&(this.element[0].style="z-index: 500; visibility: visible; position: fixed; top: "+n.toString()+"px; left: "+e.toString()+"px;")},t.prototype.scroll_=function(){if(this.lastScrollX_=window.scrollX,this.lastScrollY_=window.scrollY,!this.requestedFrame_){var t=this;window.requestAnimationFrame((function(){t.trackPosition_(),t.requestedFrame_=!1})),this.requestedFrame_=!0}},t.prototype.show_=function(){this.trackPosition_(),document.addEventListener("click",this.clicked_);var t=document.querySelector("main");null!=t&&t.addEventListener("scroll",this.scroll_)},t.prototype.hide_=function(){this.element[0].style="visibility: hidden;",document.removeEventListener("click",this.clicked_);var t=document.querySelector("main");null!=t&&t.removeEventListener("scroll",this.scroll_)},t.prototype.modelChanged=function(){var t,e,n=this.selectedPanel;if(null!=n){try{for(var r=i(Object.getOwnPropertyNames(this.panels)),o=r.next();!o.done;o=r.next()){var l=o.value,s=this.panels[l];s.container.style=s===n?"display: flex;":"display: none;"}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}this.broadcast("swatchbook:color_change",n.colourModel,n.picker.color[n.colourModel])}},t}();e.ColourPicker=_,e.COLOUR_PICKER=null,window.addEventListener("DOMContentLoaded",(function(t){var e=document.createElement("div");e.className="swatchbook-colour-picker",document.body.insertBefore(e,null),window.swatchbook.COLOUR_PICKER=new _($(e))}));var b={hue:"h",saturation:"s",value:"v",alpha:"a"},y={hue:"h",saturation:"s",lightness:"l",alpha:"a"},m={red:"r",green:"g",blue:"b",alpha:"a"},w={hsv:b,hsl:y,rgb:m,hsva:b,hsla:y,rgba:m},k={h:"hue",s:"saturation",v:"value",a:"alpha"},x={h:"hue",s:"saturation",l:"lightness",a:"alpha"},C={r:"red",g:"green",b:"blue",a:"alpha"},P={hsv:k,hsl:x,rgb:C,hsva:k,hsla:x,rgba:C},S={hsv:{hue:0,saturation:1,value:1},hsl:{hue:0,saturation:1,lightness:.5},rgb:{red:255,green:255,blue:255},hsva:{hue:0,saturation:1,value:1,alpha:1},hsla:{hue:0,saturation:1,lightness:.5,alpha:1},rgba:{red:255,green:255,blue:255,alpha:1}},O={hsv:{h:0,s:1,v:1},hsl:{h:0,s:1,l:.5},rgb:{r:255,g:255,b:255},hsva:{h:0,s:1,v:1,a:1},hsla:{h:0,s:1,l:.5,a:1},rgba:{r:255,g:255,b:255,a:1}},E=[1,"deg"],R=[1,""],T=[1,"%"],M={hsv:{h:E,s:T,v:T},hsl:{h:E,s:T,l:T},rgb:{r:R,g:R,b:R},hsva:{h:E,s:T,v:T,a:R},hsla:{h:E,s:T,l:T,a:R},rgba:{r:R,g:R,b:R,a:R}};function A(t,e){for(var n,r,o,l,s=null,a={},c=!1;null!=t;){var u=t[s=t.__type__?Array.isArray(t.__type__)?t.__type__[0]:t.__type__:Array.from(Object.getOwnPropertyNames(t))[0]];if(null==u)break;var h=w[s],d=O[s];if(null==h||null==d)break;try{for(var f=(n=void 0,i(Object.getOwnPropertyNames(u))),p=f.next();!p.done;p=f.next()){var v=u[y=p.value],g=h[y];null!=g&&(a[g]=v)}}catch(t){n={error:t}}finally{try{p&&!p.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}try{for(var _=(o=void 0,i(Object.getOwnPropertyNames(d))),b=_.next();!b.done;b=_.next()){var y;null==(v=a[y=b.value])&&(a[y]=d[y])}}catch(t){o={error:t}}finally{try{b&&!b.done&&(l=_.return)&&l.call(_)}finally{if(o)throw o.error}}c=!0;break}return c?{colorModel:s,color:a}:{colorModel:e,color:O[e]}}var I=function(t){function e(e,n,r,o,i){var l=t.call(this,e,n,r,o,i)||this;return l.showColourPicker=l.showColourPicker.bind(l),l.hideColourPicker=l.hideColourPicker.bind(l),l.toggleColourPicker=l.toggleColourPicker.bind(l),l.colourChanged=l.colourChanged.bind(l),l.getValue=l.getValue.bind(l),l.getState=l.getState.bind(l),l.setState=l.setState.bind(l),l.element=e,l.backgroundElement=document.createElement("div"),l.backgroundElement.className="swatchbook-colour-swatch-background",l.element[0].insertBefore(l.backgroundElement,null),l.swatchElement=document.createElement("div"),l.swatchElement.className="swatchbook-colour-swatch",l.element[0].insertBefore(l.swatchElement,null),l.isPickerVisible=!1,l.state_=null,l.setState(o),l.swatchElement.addEventListener("click",l.toggleColourPicker,!1),l}return o(e,t),e.prototype.showColourPicker=function(){if(!this.isPickerVisible&&(this.isPickerVisible=!0,null!=window.swatchbook.COLOUR_PICKER)){var t=A(this.state_);window.swatchbook.COLOUR_PICKER.attachedTo=this,window.swatchbook.COLOUR_PICKER.selectedColorAndModel=t,window.swatchbook.COLOUR_PICKER.on(["swatchbook:color_init","swatchbook:color_change"],this.colourChanged)}},e.prototype.hideColourPicker=function(){this.isPickerVisible&&(this.isPickerVisible=!1,null!=window.swatchbook.COLOUR_PICKER&&(window.swatchbook.COLOUR_PICKER.off(["swatchbook:color_init","swatchbook:color_change"],this.colourChanged),window.swatchbook.COLOUR_PICKER.attachedTo===this&&(window.swatchbook.COLOUR_PICKER.attachedTo=null)))},e.prototype.toggleColourPicker=function(t){t&&t.stopPropagation(),this.isPickerVisible?this.hideColourPicker():this.showColourPicker()},e.prototype.colourChanged=function(t){if(!window.swatchbook.COLOUR_PICKER||window.swatchbook.COLOUR_PICKER.attachedTo===this){var e=function(t,e){var n,r,o,l,s=!1,a={};a.__type__=t;for(var c={};;){var u=P[t],h=S[t];if(null==u||null==h)break;try{for(var d=(n=void 0,i(Object.getOwnPropertyNames(e))),f=d.next();!f.done;f=d.next()){var p=e[b=f.value],v=u[b];null!=v&&(c[v]=p)}}catch(t){n={error:t}}finally{try{f&&!f.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}try{for(var g=(o=void 0,i(Object.getOwnPropertyNames(h))),_=g.next();!_.done;_=g.next()){var b;null==(p=c[b=_.value])&&(c[b]=h[b])}}catch(t){o={error:t}}finally{try{_&&!_.done&&(l=g.return)&&l.call(g)}finally{if(o)throw o.error}}s=!0;break}return s?(a[t]=c,a):(a[t]=S[t],a)}(t.colorModel,t.color);this.setState(e)}},e.prototype.getValue=function(){return this.state_},e.prototype.getState=function(){return this.state_},e.prototype.setState=function(t){this.state_=Object.assign({},t);var e=function(t){var e,n,r,o=t.color,s=t.colorModel;if(null==o||null==s)return null;var a=O[s],c=M[s];if(null==a||null==c)return null;var u=s+"(";try{for(var h=i(Object.getOwnPropertyNames(a)),d=h.next();!d.done;d=h.next()){var f,p,v=d.value;null==o[v]&&(o[v]=a[v]),f=(r=l(c[v],2))[0],p=r[1],u.endsWith("(")||(u+=", "),u+=(o[v]*f).toString()+p}}catch(t){e={error:t}}finally{try{d&&!d.done&&(n=h.return)&&n.call(h)}finally{if(e)throw e.error}}return u+")"}(A(this.state_));null==e&&(e="transparent"),this.swatchElement&&(this.swatchElement.style="background-color: "+e+";",this.input[0].value=JSON.stringify(this.state_))},e}(h);e.ColourInputWidget=I;var j=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.boundWidgetClass=I,r}return o(e,t),e.prototype.render=function(t,e,n,r,o){var i=this.html.replace(/__NAME__/g,e).replace(/__ID__/g,n),l=this.idPattern.replace(/__ID__/g,n),s=$('<div class="swatchbook-colour-swatch-panel">'+i+"</div>");return $(t).replaceWith(s),new this.boundWidgetClass(s,e,l,r,o)},e}(u);e.ColourInput=j,window.telepath.register("swatchbook.widgets.ColourInput",j);var N=function(t){function e(e,n,r,o,i){return t.call(this,e,n,r,o,i,void 0)||this}return o(e,t),e}(a.FieldBlock);e.ColourBlock=N;var L=function(t){function e(e,n,r){return t.call(this,e,n,r)||this}return o(e,t),e.prototype.render=function(t,e,n,r,o){return new N(this,t,e,n,r,o)},e}(a.FieldBlockDefinition);e.ColourBlockDefinition=L,window.telepath.register("swatchbook.blocks.ColourBlock",L)},857:(t,e,n)=>{n.r(e),n.d(e,{default:()=>Et});var r,o,i,l,s,a={},c=[],u=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;function h(t,e){for(var n in e)t[n]=e[n];return t}function d(t){var e=t.parentNode;e&&e.removeChild(t)}function f(t,e,n){var r,o,i,l,s=arguments;if(e=h({},e),arguments.length>3)for(n=[n],r=3;r<arguments.length;r++)n.push(s[r]);if(null!=n&&(e.children=n),null!=t&&null!=t.defaultProps)for(o in t.defaultProps)void 0===e[o]&&(e[o]=t.defaultProps[o]);return l=e.key,null!=(i=e.ref)&&delete e.ref,null!=l&&delete e.key,p(t,e,l,i)}function p(t,e,n,o){var i={type:t,props:e,key:n,ref:o,__k:null,__p:null,__b:0,__e:null,l:null,__c:null,constructor:void 0};return r.vnode&&r.vnode(i),i}function v(t){return t.children}function g(t,e){this.props=t,this.context=e}function _(t,e){if(null==e)return t.__p?_(t.__p,t.__p.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?_(t):null}function b(t){var e,n;if(null!=(t=t.__p)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return b(t)}}function y(t){(!t.__d&&(t.__d=!0)&&1===o.push(t)||l!==r.debounceRendering)&&(l=r.debounceRendering,(r.debounceRendering||i)(m))}function m(){var t,e,n,r,i,l,s,a;for(o.sort((function(t,e){return e.__v.__b-t.__v.__b}));t=o.pop();)t.__d&&(n=void 0,r=void 0,l=(i=(e=t).__v).__e,s=e.__P,a=e.u,e.u=!1,s&&(n=[],r=S(s,i,h({},i),e.__n,void 0!==s.ownerSVGElement,null,n,a,null==l?_(i):l),O(n,i),r!=l&&b(i)))}function w(t,e,n,r,o,i,l,s,u){var h,f,p,v,g,b,y,m=n&&n.__k||c,w=m.length;if(s==a&&(s=null!=i?i[0]:w?_(n,0):null),h=0,e.__k=k(e.__k,(function(n){if(null!=n){if(n.__p=e,n.__b=e.__b+1,null===(p=m[h])||p&&n.key==p.key&&n.type===p.type)m[h]=void 0;else for(f=0;f<w;f++){if((p=m[f])&&n.key==p.key&&n.type===p.type){m[f]=void 0;break}p=null}if(v=S(t,n,p=p||a,r,o,i,l,null,s,u),(f=n.ref)&&p.ref!=f&&(y||(y=[])).push(f,n.__c||v,n),null!=v){if(null==b&&(b=v),null!=n.l)v=n.l,n.l=null;else if(i==p||v!=s||null==v.parentNode){t:if(null==s||s.parentNode!==t)t.appendChild(v);else{for(g=s,f=0;(g=g.nextSibling)&&f<w;f+=2)if(g==v)break t;t.insertBefore(v,s)}"option"==e.type&&(t.value="")}s=v.nextSibling,"function"==typeof e.type&&(e.l=v)}}return h++,n})),e.__e=b,null!=i&&"function"!=typeof e.type)for(h=i.length;h--;)null!=i[h]&&d(i[h]);for(h=w;h--;)null!=m[h]&&T(m[h],m[h]);if(y)for(h=0;h<y.length;h++)R(y[h],y[++h],y[++h])}function k(t,e,n){if(null==n&&(n=[]),null==t||"boolean"==typeof t)e&&n.push(e(null));else if(Array.isArray(t))for(var r=0;r<t.length;r++)k(t[r],e,n);else n.push(e?e(function(t){if(null==t||"boolean"==typeof t)return null;if("string"==typeof t||"number"==typeof t)return p(null,t,null,null);if(null!=t.__e||null!=t.__c){var e=p(t.type,t.props,t.key,null);return e.__e=t.__e,e}return t}(t)):t);return n}function x(t,e,n){"-"===e[0]?t.setProperty(e,n):t[e]="number"==typeof n&&!1===u.test(e)?n+"px":null==n?"":n}function C(t,e,n,r,o){var i,l,s,a,c;if("key"===(e=o?"className"===e?"class":e:"class"===e?"className":e)||"children"===e);else if("style"===e)if(i=t.style,"string"==typeof n)i.cssText=n;else{if("string"==typeof r&&(i.cssText="",r=null),r)for(l in r)n&&l in n||x(i,l,"");if(n)for(s in n)r&&n[s]===r[s]||x(i,s,n[s])}else"o"===e[0]&&"n"===e[1]?(a=e!==(e=e.replace(/Capture$/,"")),c=e.toLowerCase(),e=(c in t?c:e).slice(2),n?(r||t.addEventListener(e,P,a),(t.t||(t.t={}))[e]=n):t.removeEventListener(e,P,a)):"list"!==e&&"tagName"!==e&&"form"!==e&&!o&&e in t?t[e]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==e&&(e!==(e=e.replace(/^xlink:?/,""))?null==n||!1===n?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),n):null==n||!1===n?t.removeAttribute(e):t.setAttribute(e,n))}function P(t){return this.t[t.type](r.event?r.event(t):t)}function S(t,e,n,o,i,l,s,a,c,u){var d,f,p,_,b,y,m,x,C,P,S=e.type;if(void 0!==e.constructor)return null;(d=r.__b)&&d(e);try{t:if("function"==typeof S){if(x=e.props,C=(d=S.contextType)&&o[d.__c],P=d?C?C.props.value:d.__p:o,n.__c?m=(f=e.__c=n.__c).__p=f.__E:("prototype"in S&&S.prototype.render?e.__c=f=new S(x,P):(e.__c=f=new g(x,P),f.constructor=S,f.render=M),C&&C.sub(f),f.props=x,f.state||(f.state={}),f.context=P,f.__n=o,p=f.__d=!0,f.__h=[]),null==f.__s&&(f.__s=f.state),null!=S.getDerivedStateFromProps&&h(f.__s==f.state?f.__s=h({},f.__s):f.__s,S.getDerivedStateFromProps(x,f.__s)),p)null==S.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&s.push(f);else{if(null==S.getDerivedStateFromProps&&null==a&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(x,P),!a&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(x,f.__s,P)){for(f.props=x,f.state=f.__s,f.__d=!1,f.__v=e,e.__e=null!=c?c!==n.__e?c:n.__e:null,e.__k=n.__k,d=0;d<e.__k.length;d++)e.__k[d]&&(e.__k[d].__p=e);break t}null!=f.componentWillUpdate&&f.componentWillUpdate(x,f.__s,P)}for(_=f.props,b=f.state,f.context=P,f.props=x,f.state=f.__s,(d=r.__r)&&d(e),f.__d=!1,f.__v=e,f.__P=t,d=f.render(f.props,f.state,f.context),e.__k=k(null!=d&&d.type==v&&null==d.key?d.props.children:d),null!=f.getChildContext&&(o=h(h({},o),f.getChildContext())),p||null==f.getSnapshotBeforeUpdate||(y=f.getSnapshotBeforeUpdate(_,b)),w(t,e,n,o,i,l,s,c,u),f.base=e.__e;d=f.__h.pop();)f.__s&&(f.state=f.__s),d.call(f);p||null==_||null==f.componentDidUpdate||f.componentDidUpdate(_,b,y),m&&(f.__E=f.__p=null)}else e.__e=E(n.__e,e,n,o,i,l,s,u);(d=r.diffed)&&d(e)}catch(t){r.__e(t,e,n)}return e.__e}function O(t,e){for(var n;n=t.pop();)try{n.componentDidMount()}catch(t){r.__e(t,n.__v)}r.__c&&r.__c(e)}function E(t,e,n,r,o,i,l,s){var u,h,d,f,p=n.props,v=e.props;if(o="svg"===e.type||o,null==t&&null!=i)for(u=0;u<i.length;u++)if(null!=(h=i[u])&&(null===e.type?3===h.nodeType:h.localName===e.type)){t=h,i[u]=null;break}if(null==t){if(null===e.type)return document.createTextNode(v);t=o?document.createElementNS("http://www.w3.org/2000/svg",e.type):document.createElement(e.type),i=null}return null===e.type?p!==v&&(null!=i&&(i[i.indexOf(t)]=null),t.data=v):e!==n&&(null!=i&&(i=c.slice.call(t.childNodes)),d=(p=n.props||a).dangerouslySetInnerHTML,f=v.dangerouslySetInnerHTML,s||(f||d)&&(f&&d&&f.__html==d.__html||(t.innerHTML=f&&f.__html||"")),function(t,e,n,r,o){var i;for(i in n)i in e||C(t,i,null,n[i],r);for(i in e)o&&"function"!=typeof e[i]||"value"===i||"checked"===i||n[i]===e[i]||C(t,i,e[i],n[i],r)}(t,v,p,o,s),e.__k=e.props.children,f||w(t,e,n,r,"foreignObject"!==e.type&&o,i,l,a,s),s||("value"in v&&void 0!==v.value&&v.value!==t.value&&(t.value=null==v.value?"":v.value),"checked"in v&&void 0!==v.checked&&v.checked!==t.checked&&(t.checked=v.checked))),t}function R(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(t){r.__e(t,n)}}function T(t,e,n){var o,i,l;if(r.unmount&&r.unmount(t),(o=t.ref)&&R(o,null,e),n||"function"==typeof t.type||(n=null!=(i=t.__e)),t.__e=t.l=null,null!=(o=t.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(t){r.__e(t,e)}o.base=o.__P=null}if(o=t.__k)for(l=0;l<o.length;l++)o[l]&&T(o[l],e,n);null!=i&&d(i)}function M(t,e,n){return this.constructor(t,n)}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function I(){return I=Object.assign||function(t){for(var e=arguments,n=1;n<arguments.length;n++){var r=e[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},I.apply(this,arguments)}r={},g.prototype.setState=function(t,e){var n=this.__s!==this.state&&this.__s||(this.__s=h({},this.state));("function"!=typeof t||(t=t(n,this.props)))&&h(n,t),null!=t&&this.__v&&(this.u=!1,e&&this.__h.push(e),y(this))},g.prototype.forceUpdate=function(t){this.__v&&(t&&this.__h.push(t),this.u=!0,y(this))},g.prototype.render=v,o=[],i="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,l=r.debounceRendering,r.__e=function(t,e,n){for(var r;e=e.__p;)if((r=e.__c)&&!r.__p)try{if(r.constructor&&null!=r.constructor.getDerivedStateFromError)r.setState(r.constructor.getDerivedStateFromError(t));else{if(null==r.componentDidCatch)continue;r.componentDidCatch(t)}return y(r.__E=r)}catch(e){t=e}throw t},s=a;var j="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",N="[\\s|\\(]+("+j+")[,|\\s]+("+j+")[,|\\s]+("+j+")\\s*\\)?",L="[\\s|\\(]+("+j+")[,|\\s]+("+j+")[,|\\s]+("+j+")[,|\\s]+("+j+")\\s*\\)?",D=new RegExp("rgb"+N),B=new RegExp("rgba"+L),W=new RegExp("hsl"+N),H=new RegExp("hsla"+L),U="^(?:#?|0x?)",$="([0-9a-fA-F]{1})",z="([0-9a-fA-F]{2})",F=new RegExp(U+$+$+$+"$"),K=new RegExp(U+$+$+$+$+"$"),V=new RegExp(U+z+z+z+"$"),q=new RegExp(U+z+z+z+z+"$"),G=Math.log,X=Math.round,Y=Math.floor;function J(t,e,n){return Math.min(Math.max(t,e),n)}function Q(t,e){var n=t.indexOf("%")>-1,r=parseFloat(t);return n?e/100*r:r}function Z(t){return parseInt(t,16)}function tt(t){return t.toString(16).padStart(2,"0")}var et=function(){function t(t,e){this.$={h:0,s:0,v:0,a:1},t&&this.set(t),this.onChange=e,this.initialValue=I({},this.$)}var e,n,r=t.prototype;return r.set=function(e){if("string"==typeof e)/^(?:#?|0x?)[0-9a-fA-F]{3,8}$/.test(e)?this.hexString=e:/^rgba?/.test(e)?this.rgbString=e:/^hsla?/.test(e)&&(this.hslString=e);else{if("object"!=typeof e)throw new Error("Invalid color value");e instanceof t?this.hsva=e.hsva:"r"in e&&"g"in e&&"b"in e?this.rgb=e:"h"in e&&"s"in e&&"v"in e?this.hsv=e:"h"in e&&"s"in e&&"l"in e?this.hsl=e:"kelvin"in e&&(this.kelvin=e.kelvin)}},r.setChannel=function(t,e,n){var r;this[t]=I({},this[t],((r={})[e]=n,r))},r.reset=function(){this.hsva=this.initialValue},r.clone=function(){return new t(this)},r.unbind=function(){this.onChange=void 0},t.hsvToRgb=function(t){var e=t.h/60,n=t.s/100,r=t.v/100,o=Y(e),i=e-o,l=r*(1-n),s=r*(1-i*n),a=r*(1-(1-i)*n),c=o%6,u=[a,r,r,s,l,l][c],h=[l,l,a,r,r,s][c];return{r:J(255*[r,s,l,l,a,r][c],0,255),g:J(255*u,0,255),b:J(255*h,0,255)}},t.rgbToHsv=function(t){var e=t.r/255,n=t.g/255,r=t.b/255,o=Math.max(e,n,r),i=Math.min(e,n,r),l=o-i,s=0,a=o,c=0===o?0:l/o;switch(o){case i:s=0;break;case e:s=(n-r)/l+(n<r?6:0);break;case n:s=(r-e)/l+2;break;case r:s=(e-n)/l+4}return{h:60*s%360,s:J(100*c,0,100),v:J(100*a,0,100)}},t.hsvToHsl=function(t){var e=t.s/100,n=t.v/100,r=(2-e)*n,o=r<=1?r:2-r,i=o<1e-9?0:e*n/o;return{h:t.h,s:J(100*i,0,100),l:J(50*r,0,100)}},t.hslToHsv=function(t){var e=2*t.l,n=t.s*(e<=100?e:200-e)/100,r=e+n<1e-9?0:2*n/(e+n);return{h:t.h,s:J(100*r,0,100),v:J((e+n)/2,0,100)}},t.kelvinToRgb=function(t){var e,n,r,o=t/100;return o<66?(e=255,n=-155.25485562709179-.44596950469579133*(n=o-2)+104.49216199393888*G(n),r=o<20?0:.8274096064007395*(r=o-10)-254.76935184120902+115.67994401066147*G(r)):(e=351.97690566805693+.114206453784165*(e=o-55)-40.25366309332127*G(e),n=325.4494125711974+.07943456536662342*(n=o-50)-28.0852963507957*G(n),r=255),{r:J(Y(e),0,255),g:J(Y(n),0,255),b:J(Y(r),0,255)}},t.rgbToKelvin=function(e){for(var n,r=e.r,o=e.b,i=2e3,l=4e4;l-i>.4;){n=.5*(l+i);var s=t.kelvinToRgb(n);s.b/s.r>=o/r?l=n:i=n}return n},e=t,n=[{key:"hsv",get:function(){var t=this.$;return{h:t.h,s:t.s,v:t.v}},set:function(t){var e=this.$;if(t=I({},e,t),this.onChange){var n={h:!1,v:!1,s:!1,a:!1};for(var r in e)n[r]=t[r]!=e[r];this.$=t,(n.h||n.s||n.v||n.a)&&this.onChange(this,n)}else this.$=t}},{key:"hsva",get:function(){return I({},this.$)},set:function(t){this.hsv=t}},{key:"hue",get:function(){return this.$.h},set:function(t){this.hsv={h:t}}},{key:"saturation",get:function(){return this.$.s},set:function(t){this.hsv={s:t}}},{key:"value",get:function(){return this.$.v},set:function(t){this.hsv={v:t}}},{key:"alpha",get:function(){return this.$.a},set:function(t){this.hsv=I({},this.hsv,{a:t})}},{key:"kelvin",get:function(){return t.rgbToKelvin(this.rgb)},set:function(e){this.rgb=t.kelvinToRgb(e)}},{key:"red",get:function(){return this.rgb.r},set:function(t){this.rgb=I({},this.rgb,{r:t})}},{key:"green",get:function(){return this.rgb.g},set:function(t){this.rgb=I({},this.rgb,{g:t})}},{key:"blue",get:function(){return this.rgb.b},set:function(t){this.rgb=I({},this.rgb,{b:t})}},{key:"rgb",get:function(){var e=t.hsvToRgb(this.$),n=e.r,r=e.g,o=e.b;return{r:X(n),g:X(r),b:X(o)}},set:function(e){this.hsv=I({},t.rgbToHsv(e),{a:void 0===e.a?1:e.a})}},{key:"rgba",get:function(){return I({},this.rgb,{a:this.alpha})},set:function(t){this.rgb=t}},{key:"hsl",get:function(){var e=t.hsvToHsl(this.$),n=e.h,r=e.s,o=e.l;return{h:X(n),s:X(r),l:X(o)}},set:function(e){this.hsv=I({},t.hslToHsv(e),{a:void 0===e.a?1:e.a})}},{key:"hsla",get:function(){return I({},this.hsl,{a:this.alpha})},set:function(t){this.hsl=t}},{key:"rgbString",get:function(){var t=this.rgb;return"rgb("+t.r+", "+t.g+", "+t.b+")"},set:function(t){var e,n,r,o,i=1;if((e=D.exec(t))?(n=Q(e[1],255),r=Q(e[2],255),o=Q(e[3],255)):(e=B.exec(t))&&(n=Q(e[1],255),r=Q(e[2],255),o=Q(e[3],255),i=Q(e[4],1)),!e)throw new Error("Invalid rgb string");this.rgb={r:n,g:r,b:o,a:i}}},{key:"rgbaString",get:function(){var t=this.rgba;return"rgba("+t.r+", "+t.g+", "+t.b+", "+t.a+")"},set:function(t){this.rgbString=t}},{key:"hexString",get:function(){var t=this.rgb;return"#"+tt(t.r)+tt(t.g)+tt(t.b)},set:function(t){var e,n,r,o,i=255;if((e=F.exec(t))?(n=17*Z(e[1]),r=17*Z(e[2]),o=17*Z(e[3])):(e=K.exec(t))?(n=17*Z(e[1]),r=17*Z(e[2]),o=17*Z(e[3]),i=17*Z(e[4])):(e=V.exec(t))?(n=Z(e[1]),r=Z(e[2]),o=Z(e[3])):(e=q.exec(t))&&(n=Z(e[1]),r=Z(e[2]),o=Z(e[3]),i=Z(e[4])),!e)throw new Error("Invalid hex string");this.rgb={r:n,g:r,b:o,a:i/255}}},{key:"hex8String",get:function(){var t=this.rgba;return"#"+tt(t.r)+tt(t.g)+tt(t.b)+tt(Y(255*t.a))},set:function(t){this.hexString=t}},{key:"hslString",get:function(){var t=this.hsl;return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},set:function(t){var e,n,r,o,i=1;if((e=W.exec(t))?(n=Q(e[1],360),r=Q(e[2],100),o=Q(e[3],100)):(e=H.exec(t))&&(n=Q(e[1],360),r=Q(e[2],100),o=Q(e[3],100),i=Q(e[4],1)),!e)throw new Error("Invalid hsl string");this.hsl={h:n,s:r,l:o,a:i}}},{key:"hslaString",get:function(){var t=this.hsla;return"hsla("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},set:function(t){this.hslString=t}}],n&&A(e.prototype,n),t}();function nt(t){var e,n=t.width,r=t.sliderSize,o=t.borderWidth,i=t.handleRadius,l=t.padding,s=t.sliderShape,a="horizontal"===t.layoutDirection;return r=null!=(e=r)?e:2*l+2*i,"circle"===s?{handleStart:t.padding+t.handleRadius,handleRange:n-2*l-2*i,width:n,height:n,cx:n/2,cy:n/2,radius:n/2-o/2}:{handleStart:r/2,handleRange:n-r,radius:r/2,x:0,y:0,width:a?r:n,height:a?n:r}}var rt,ot=2*Math.PI,it=function(t,e){return Math.sqrt(t*t+e*e)};function lt(t){return t.width/2-t.padding-t.handleRadius-t.borderWidth}function st(t){var e=t.width/2;return{width:t.width,radius:e-t.borderWidth,cx:e,cy:e}}function at(t,e,n){var r=t.wheelAngle,o=t.wheelDirection;return n&&"clockwise"===o?e=r+e:"clockwise"===o?e=360-r+e:n&&"anticlockwise"===o?e=r+180-e:"anticlockwise"===o&&(e=r-e),function(t,e){return(t%360+360)%360}(e)}function ct(t,e,n){var r=st(t),o=r.cx,i=r.cy,l=lt(t);e=o-e,n=i-n;var s=at(t,Math.atan2(-n,-e)*(360/ot)),a=Math.min(it(e,n),l);return{h:Math.round(s),s:Math.round(100/l*a)}}function ut(t){var e=t.width,n=t.boxHeight;return{width:e,height:null!=n?n:e,radius:t.padding+t.handleRadius}}function ht(t,e,n){var r=ut(t),o=r.width,i=r.height,l=r.radius,s=(e-l)/(o-2*l)*100,a=(n-l)/(i-2*l)*100;return{s:Math.max(0,Math.min(s,100)),v:Math.max(0,Math.min(100-a,100))}}function dt(t){rt||(rt=document.getElementsByTagName("base"));var e=window.navigator.userAgent,n=/^((?!chrome|android).)*safari/i.test(e),r=/iPhone|iPod|iPad/i.test(e),o=window.location;return(n||r)&&rt.length>0?o.protocol+"//"+o.host+o.pathname+o.search+t:t}function ft(t,e,n,r){for(var o=0;o<r.length;o++){var i=r[o].x-e,l=r[o].y-n;if(Math.sqrt(i*i+l*l)<t.handleRadius)return o}return null}function pt(t){return{boxSizing:"border-box",border:t.borderWidth+"px solid "+t.borderColor}}function vt(t,e,n){return t+"-gradient("+e+", "+n.map((function(t){var e=t[0];return t[1]+" "+e+"%"})).join(",")+")"}function gt(t){return"string"==typeof t?t:t+"px"}var _t=["mousemove","touchmove","mouseup","touchend"],bt=function(t){function e(e){t.call(this,e),this.uid=(Math.random()+1).toString(36).substring(5)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(t){var e=this.handleEvent.bind(this),n={onMouseDown:e,ontouchstart:e},r="horizontal"===t.layoutDirection,o=null===t.margin?t.sliderMargin:t.margin,i={overflow:"visible",display:r?"inline-block":"block"};return t.index>0&&(i[r?"marginLeft":"marginTop"]=o),f(v,null,t.children(this.uid,n,i))},e.prototype.handleEvent=function(t){var e=this,n=this.props.onInput,r=this.base.getBoundingClientRect();t.preventDefault();var o=t.touches?t.changedTouches[0]:t,i=o.clientX-r.left,l=o.clientY-r.top;switch(t.type){case"mousedown":case"touchstart":!1!==n(i,l,0)&&_t.forEach((function(t){document.addEventListener(t,e,{passive:!1})}));break;case"mousemove":case"touchmove":n(i,l,1);break;case"mouseup":case"touchend":n(i,l,2),_t.forEach((function(t){document.removeEventListener(t,e,{passive:!1})}))}},e}(g);function yt(t){var e=t.r,n=t.url,r=e,o=e;return f("svg",{className:"IroHandle IroHandle--"+t.index+" "+(t.isActive?"IroHandle--isActive":""),style:{"-webkit-tap-highlight-color":"rgba(0, 0, 0, 0);",transform:"translate("+gt(t.x)+", "+gt(t.y)+")",willChange:"transform",top:gt(-e),left:gt(-e),width:gt(2*e),height:gt(2*e),position:"absolute",overflow:"visible"}},n&&f("use",Object.assign({xlinkHref:dt(n)},t.props)),!n&&f("circle",{cx:r,cy:o,r:e,fill:"none","stroke-width":2,stroke:"#000"}),!n&&f("circle",{cx:r,cy:o,r:e-2,fill:t.fill,"stroke-width":2,stroke:"#fff"}))}function mt(t){var e=t.activeIndex,n=void 0!==e&&e<t.colors.length?t.colors[e]:t.color,r=nt(t),o=r.width,i=r.height,l=r.radius,s=function(t,e){var n=nt(t),r=n.width,o=n.height,i=n.handleRange,l=n.handleStart,s="horizontal"===t.layoutDirection,a=function(t,e){var n=e.hsva,r=e.rgb;switch(t.sliderType){case"red":return r.r/2.55;case"green":return r.g/2.55;case"blue":return r.b/2.55;case"alpha":return 100*n.a;case"kelvin":var o=t.minTemperature,i=t.maxTemperature-o,l=(e.kelvin-o)/i*100;return Math.max(0,Math.min(l,100));case"hue":return n.h/=3.6;case"saturation":return n.s;default:return n.v}}(t,e),c=s?r/2:o/2,u=l+a/100*i;return s&&(u=-1*u+i+2*l),{x:s?c:u,y:s?u:c}}(t,n),a=function(t,e){var n=e.hsv,r=e.rgb;switch(t.sliderType){case"red":return[[0,"rgb(0,"+r.g+","+r.b+")"],[100,"rgb(255,"+r.g+","+r.b+")"]];case"green":return[[0,"rgb("+r.r+",0,"+r.b+")"],[100,"rgb("+r.r+",255,"+r.b+")"]];case"blue":return[[0,"rgb("+r.r+","+r.g+",0)"],[100,"rgb("+r.r+","+r.g+",255)"]];case"alpha":return[[0,"rgba("+r.r+","+r.g+","+r.b+",0)"],[100,"rgb("+r.r+","+r.g+","+r.b+")"]];case"kelvin":for(var o=[],i=t.minTemperature,l=t.maxTemperature,s=l-i,a=i,c=0;a<l;a+=s/8,c+=1){var u=et.kelvinToRgb(a),h=u.r,d=u.g,f=u.b;o.push([12.5*c,"rgb("+h+","+d+","+f+")"])}return o;case"hue":return[[0,"#f00"],[16.666,"#ff0"],[33.333,"#0f0"],[50,"#0ff"],[66.666,"#00f"],[83.333,"#f0f"],[100,"#f00"]];case"saturation":var p=et.hsvToHsl({h:n.h,s:0,v:n.v}),v=et.hsvToHsl({h:n.h,s:100,v:n.v});return[[0,"hsl("+p.h+","+p.s+"%,"+p.l+"%)"],[100,"hsl("+v.h+","+v.s+"%,"+v.l+"%)"]];default:var g=et.hsvToHsl({h:n.h,s:n.s,v:100});return[[0,"#000"],[100,"hsl("+g.h+","+g.s+"%,"+g.l+"%)"]]}}(t,n);return f(bt,Object.assign({},t,{onInput:function(e,r,o){var i=function(t,e,n){var r,o=nt(t),i=o.handleRange,l=o.handleStart;r="horizontal"===t.layoutDirection?-1*n+i+l:e-l,r=Math.max(Math.min(r,i),0);var s=Math.round(100/i*r);switch(t.sliderType){case"kelvin":var a=t.minTemperature;return a+(t.maxTemperature-a)*(s/100);case"alpha":return s/100;case"hue":return 3.6*s;case"red":case"blue":case"green":return 2.55*s;default:return s}}(t,e,r);t.parent.inputActive=!0,n[t.sliderType]=i,t.onInput(o,t.id)}}),(function(e,r,c){return f("div",Object.assign({},r,{className:"IroSlider",style:Object.assign({},{position:"relative",width:gt(o),height:gt(i),borderRadius:gt(l),background:"conic-gradient(#ccc 25%, #fff 0 50%, #ccc 0 75%, #fff 0)",backgroundSize:"8px 8px"},c)}),f("div",{className:"IroSliderGradient",style:Object.assign({},{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:gt(l),background:vt("linear","horizontal"===t.layoutDirection?"to top":"to right",a)},pt(t))}),f(yt,{isActive:!0,index:n.index,r:t.handleRadius,url:t.handleSvg,props:t.handleProps,x:s.x,y:s.y}))}))}function wt(t){var e=ut(t),n=e.width,r=e.height,o=e.radius,i=t.colors,l=t.parent,s=t.activeIndex,a=void 0!==s&&s<t.colors.length?t.colors[s]:t.color,c=[[[0,"#fff"],[100,"hsl("+a.hue+",100%,50%)"]],[[0,"rgba(0,0,0,0)"],[100,"#000"]]],u=i.map((function(e){return function(t,e){var n=ut(t),r=n.width,o=n.height,i=n.radius,l=e.hsv,s=i,a=r-2*i,c=o-2*i;return{x:s+l.s/100*a,y:s+(c-l.v/100*c)}}(t,e)}));return f(bt,Object.assign({},t,{onInput:function(e,n,r){if(0===r){var o=ft(t,e,n,u);null!==o?l.setActiveColor(o):(l.inputActive=!0,a.hsv=ht(t,e,n),t.onInput(r,t.id))}else 1===r&&(l.inputActive=!0,a.hsv=ht(t,e,n));t.onInput(r,t.id)}}),(function(e,l,s){return f("div",Object.assign({},l,{className:"IroBox",style:Object.assign({},{width:gt(n),height:gt(r),position:"relative"},s)}),f("div",{className:"IroBox",style:Object.assign({},{width:"100%",height:"100%",borderRadius:gt(o)},pt(t),{background:vt("linear","to bottom",c[1])+","+vt("linear","to right",c[0])})}),i.filter((function(t){return t!==a})).map((function(e){return f(yt,{isActive:!1,index:e.index,fill:e.hslString,r:t.handleRadius,url:t.handleSvg,props:t.handleProps,x:u[e.index].x,y:u[e.index].y})})),f(yt,{isActive:!0,index:a.index,fill:a.hslString,r:t.activeHandleRadius||t.handleRadius,url:t.handleSvg,props:t.handleProps,x:u[a.index].x,y:u[a.index].y}))}))}function kt(t){var e=st(t).width,n=t.colors,r=(t.borderWidth,t.parent),o=t.color,i=o.hsv,l=n.map((function(e){return function(t,e){var n=e.hsv,r=st(t),o=r.cx,i=r.cy,l=lt(t),s=(180+at(t,n.h,!0))*(ot/360),a=n.s/100*l,c="clockwise"===t.wheelDirection?-1:1;return{x:o+a*Math.cos(s)*c,y:i+a*Math.sin(s)*c}}(t,e)})),s={position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",boxSizing:"border-box"};return f(bt,Object.assign({},t,{onInput:function(e,n,i){if(0===i){if(!function(t,e,n){var r=st(t),o=r.cx,i=r.cy,l=t.width/2;return it(o-e,i-n)<l}(t,e,n))return!1;var s=ft(t,e,n,l);null!==s?r.setActiveColor(s):(r.inputActive=!0,o.hsv=ct(t,e,n),t.onInput(i,t.id))}else 1===i&&(r.inputActive=!0,o.hsv=ct(t,e,n));t.onInput(i,t.id)}}),(function(r,a,c){return f("div",Object.assign({},a,{className:"IroWheel",style:Object.assign({},{width:gt(e),height:gt(e),position:"relative"},c)}),f("div",{className:"IroWheelHue",style:Object.assign({},s,{transform:"rotateZ("+(t.wheelAngle+90)+"deg)",background:"clockwise"===t.wheelDirection?"conic-gradient(red, yellow, lime, aqua, blue, magenta, red)":"conic-gradient(red, magenta, blue, aqua, lime, yellow, red)"})}),f("div",{className:"IroWheelSaturation",style:Object.assign({},s,{background:"radial-gradient(circle closest-side, #fff, transparent)"})}),t.wheelLightness&&f("div",{className:"IroWheelLightness",style:Object.assign({},s,{background:"#000",opacity:1-i.v/100})}),f("div",{className:"IroWheelBorder",style:Object.assign({},s,pt(t))}),n.filter((function(t){return t!==o})).map((function(e){return f(yt,{isActive:!1,index:e.index,fill:e.hslString,r:t.handleRadius,url:t.handleSvg,props:t.handleProps,x:l[e.index].x,y:l[e.index].y})})),f(yt,{isActive:!0,index:o.index,fill:o.hslString,r:t.activeHandleRadius||t.handleRadius,url:t.handleSvg,props:t.handleProps,x:l[o.index].x,y:l[o.index].y}))}))}yt.defaultProps={fill:"none",x:0,y:0,r:8,url:null,props:{x:0,y:0}},mt.defaultProps=Object.assign({},{sliderShape:"bar",sliderType:"value",minTemperature:2200,maxTemperature:11e3});var xt=function(t){function e(e){var n=this;t.call(this,e),this.colors=[],this.inputActive=!1,this.events={},this.activeEvents={},this.deferredEvents={},this.id=e.id,(e.colors.length>0?e.colors:[e.color]).forEach((function(t){return n.addColor(t)})),this.setActiveColor(0),this.state=Object.assign({},e,{color:this.color,colors:this.colors,layout:e.layout})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addColor=function(t,e){void 0===e&&(e=this.colors.length);var n=new et(t,this.onColorChange.bind(this));this.colors.splice(e,0,n),this.colors.forEach((function(t,e){return t.index=e})),this.state&&this.setState({colors:this.colors}),this.deferredEmit("color:init",n)},e.prototype.removeColor=function(t){var e=this.colors.splice(t,1)[0];e.unbind(),this.colors.forEach((function(t,e){return t.index=e})),this.state&&this.setState({colors:this.colors}),e.index===this.color.index&&this.setActiveColor(0),this.emit("color:remove",e)},e.prototype.setActiveColor=function(t){this.color=this.colors[t],this.state&&this.setState({color:this.color}),this.emit("color:setActive",this.color)},e.prototype.setColors=function(t,e){var n=this;void 0===e&&(e=0),this.colors.forEach((function(t){return t.unbind()})),this.colors=[],t.forEach((function(t){return n.addColor(t)})),this.setActiveColor(e),this.emit("color:setAll",this.colors)},e.prototype.on=function(t,e){var n=this,r=this.events;(Array.isArray(t)?t:[t]).forEach((function(t){(r[t]||(r[t]=[])).push(e),n.deferredEvents[t]&&(n.deferredEvents[t].forEach((function(t){e.apply(null,t)})),n.deferredEvents[t]=[])}))},e.prototype.off=function(t,e){var n=this;(Array.isArray(t)?t:[t]).forEach((function(t){var r=n.events[t];r&&r.splice(r.indexOf(e),1)}))},e.prototype.emit=function(t){for(var e=this,n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];var o=this.activeEvents,i=!!o.hasOwnProperty(t)&&o[t];if(!i){o[t]=!0;var l=this.events[t]||[];l.forEach((function(t){return t.apply(e,n)})),o[t]=!1}},e.prototype.deferredEmit=function(t){for(var e,n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];var o=this.deferredEvents;(e=this).emit.apply(e,[t].concat(n)),(o[t]||(o[t]=[])).push(n)},e.prototype.setOptions=function(t){this.setState(t)},e.prototype.resize=function(t){this.setOptions({width:t})},e.prototype.reset=function(){this.colors.forEach((function(t){return t.reset()})),this.setState({colors:this.colors})},e.prototype.onMount=function(t){this.el=t,this.deferredEmit("mount",this)},e.prototype.onColorChange=function(t,e){this.setState({color:this.color}),this.inputActive&&(this.inputActive=!1,this.emit("input:change",t,e)),this.emit("color:change",t,e)},e.prototype.emitInputEvent=function(t,e){0===t?this.emit("input:start",this.color,e):1===t?this.emit("input:move",this.color,e):2===t&&this.emit("input:end",this.color,e)},e.prototype.render=function(t,e){var n=this,r=e.layout;return Array.isArray(r)||(r=[{component:kt},{component:mt}],e.transparency&&r.push({component:mt,options:{sliderType:"alpha"}})),f("div",{class:"IroColorPicker",id:e.id,style:{display:e.display}},r.map((function(t,r){var o=t.component,i=t.options;return f(o,Object.assign({},e,i,{ref:void 0,onInput:n.emitInputEvent.bind(n),parent:n,index:r}))})))},e}(g);xt.defaultProps=Object.assign({},{width:300,height:300,color:"#fff",colors:[],padding:6,layoutDirection:"vertical",borderColor:"#fff",borderWidth:0,handleRadius:8,activeHandleRadius:null,handleSvg:null,handleProps:{x:0,y:0},wheelLightness:!0,wheelAngle:0,wheelDirection:"anticlockwise",sliderSize:null,sliderMargin:12,boxHeight:null},{colors:[],display:"block",id:null,layout:"default",margin:null});var Ct,Pt,St,Ot=(Pt=function(t,e){var n,o=document.createElement("div");function i(){var e=t instanceof Element?t:document.querySelector(t);e.appendChild(n.base),n.onMount(e)}return function(t,e,n){var o,i,l;r.__p&&r.__p(t,e),i=(o=n===s)?null:e.__k,t=f(v,null,[t]),l=[],S(e,e.__k=t,i||a,a,void 0!==e.ownerSVGElement,i?null:c.slice.call(e.childNodes),l,!1,a,o),O(l,t)}(f(Ct,Object.assign({},{ref:function(t){return n=t}},e)),o),"loading"!==document.readyState?i():document.addEventListener("DOMContentLoaded",i),n},Pt.prototype=(Ct=xt).prototype,Object.assign(Pt,Ct),Pt.__component=Ct,Pt);!function(t){var e;t.version="5.5.2",t.Color=et,t.ColorPicker=Ot,(e=t.ui||(t.ui={})).h=f,e.ComponentBase=bt,e.Handle=yt,e.Slider=mt,e.Wheel=kt,e.Box=wt}(St||(St={}));const Et=St},363:t=>{t.exports=React},533:t=>{t.exports=ReactDOM},311:t=>{t.exports=jQuery},519:t=>{t.exports=telepath},158:t=>{t.exports=wagtailStreamField.blocks}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={exports:{}};return e[t].call(i.exports,i,i.exports,r),i.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},t=r(586),r(41),globalThis.swatchbook={ColourBlock:t.ColourBlock,COLOUR_PICKER:t.COLOUR_PICKER}})();