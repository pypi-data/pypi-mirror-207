import{p as Z,e as _,r as C,f as d,u as M,c as T,a4 as ne,at as se,m as j,i as de,w as re,l as r,B as w,n as V,q as o,F as J,D as K,s as p,x as U,C as h,A as R,y as g,aF as b,aG as Q}from"./index-4822884e.js";import{a as oe,b as ie,c as ue,d as pe,V as be}from"./VExpansionPanel-e56b8a8d.js";import{m as ye,u as ee,I as ce,L as Ve,c as ge,V as I}from"./VBtn-100eb5c9.js";import{a as me,c as ke,m as ve,u as he,V as W,b as X}from"./VLabel-04e3b220.js";import{f as Ce}from"./forwardRefs-29398c77.js";import{a as $e,c as fe}from"./VCard-8d6cfe56.js";import{d as we}from"./VCardText-4f782ffb.js";import{V as Ee}from"./VSpacer-c3517420.js";import{V as Se}from"./VDialog-057042a1.js";import{V as Ue}from"./VDivider-ef9e8070.js";import{a as qe,b as Y}from"./VCheckboxBtn-48908431.js";import{V as A,c as Pe}from"./VSelect-75f2de4e.js";const Ie=Z({...ye(),...me()},"v-form"),Te=_()({name:"VForm",props:Ie(),emits:{"update:modelValue":t=>!0,submit:t=>!0},setup(t,q){let{slots:$,emit:u}=q;const y=ke(t),k=C();function P(i){i.preventDefault(),y.reset()}function f(i){const m=i,c=y.validate();m.then=c.then.bind(c),m.catch=c.catch.bind(c),m.finally=c.finally.bind(c),u("submit",m),m.defaultPrevented||c.then(B=>{var E;let{valid:F}=B;F&&((E=k.value)==null||E.submit())}),m.preventDefault()}return ee(()=>{var i;return d("form",{ref:k,class:["v-form",t.class],style:t.style,novalidate:!0,onReset:P,onSubmit:f},[(i=$.default)==null?void 0:i.call($,y)])}),Ce(y,k)}});const Be=Z({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...ve(),...qe()},"v-switch"),Fe=_()({name:"VSwitch",inheritAttrs:!1,props:Be(),emits:{"update:focused":t=>!0,"update:modelValue":()=>!0,"update:indeterminate":t=>!0},setup(t,q){let{attrs:$,slots:u}=q;const y=M(t,"indeterminate"),k=M(t,"modelValue"),{loaderClasses:P}=ce(t),{isFocused:f,focus:i,blur:m}=he(t),c=T(()=>typeof t.loading=="string"&&t.loading!==""?t.loading:t.color),B=ne(),F=T(()=>t.id||`switch-${B}`);function E(){y.value&&(y.value=!1)}return ee(()=>{const[L,D]=se($),[N,O]=W.filterProps(t),[v,G]=Y.filterProps(t),l=C();function a(s){var e,S;s.stopPropagation(),s.preventDefault(),(S=(e=l.value)==null?void 0:e.input)==null||S.click()}return d(W,j({class:["v-switch",{"v-switch--inset":t.inset},{"v-switch--indeterminate":y.value},P.value,t.class],style:t.style},L,N,{id:F.value,focused:f.value}),{...u,default:s=>{let{id:e,messagesId:S,isDisabled:x,isReadonly:n,isValid:le}=s;return d(Y,j({ref:l},v,{modelValue:k.value,"onUpdate:modelValue":[z=>k.value=z,E],id:e.value,"aria-describedby":S.value,type:"checkbox","aria-checked":y.value?"mixed":void 0,disabled:x.value,readonly:n.value,onFocus:i,onBlur:m},D),{...u,default:()=>d("div",{class:"v-switch__track",onClick:a},null),input:z=>{let{textColorClasses:ae,textColorStyles:te}=z;return d("div",{class:["v-switch__thumb",ae.value],style:te.value},[t.loading&&d(Ve,{name:"v-switch",active:!0,color:le.value===!1?void 0:c.value},{default:H=>u.loader?u.loader(H):d(ge,{active:H.isActive,color:H.color,indeterminate:!0,size:"16",width:"2"},null)})])}})}})}),{}}}),Re={class:"expansion-panel-text"},xe=g("br",null,null,-1),Ae={class:"configcolumnleft"},Le={key:0},De=g("br",null,null,-1),Ne=g("br",null,null,-1),Oe=g("br",null,null,-1),Ge={key:1},ze=g("br",null,null,-1),He={key:2},Me=g("br",null,null,-1),je={key:0,class:"configcolumnright"},Je=g("br",null,null,-1),Ke=g("br",null,null,-1),dl=de({__name:"EditConfig",props:{configEntries:null,disabled:{type:Boolean}},emits:["submit","action"],setup(t,{emit:q}){const $=t,u=C(),y=C(!1),k=C(),P=C("basic"),f=C(!1),i=C(),m=C({}),c=T(()=>u.value?u.value.filter(l=>l.advanced&&!l.hidden).length>0:!1),B=T(()=>c.value?["basic","advanced"]:["basic"]),F=T(()=>{for(const l of u.value)if(l.required&&!(!G(l.value)||!G(l.default_value)||l.type==b.DIVIDER||l.type==b.LABEL))return!1;return!0}),E=T(()=>{const l={};for(const a of $.configEntries)a.value!=null&&(a.type==b.SECURE_STRING&&a.value==Q||(l[a.key]=a.value));return l});re(()=>$.configEntries,l=>{u.value=[];for(const a of l||[])a.value!==void 0&&a.value!==null&&(m.value[a.key]=a.value),(a.value==null||a.value==null)&&(a.value=a.default_value),u.value.push(a)},{immediate:!0});const L=async function(){const{valid:l}=await k.value.validate();return l},D=async function(){await L()&&q("submit",E.value)},N=async function(l){q("action",l,E.value)},O=function(l){window.open(l,"_blank")},v=function(l){var a,s;return((s=(a=u.value)==null?void 0:a.find(e=>e.key==l))==null?void 0:s.value)||void 0},G=function(l){return l==null};return(l,a)=>(r(),w("section",null,[u.value?(r(),V(Te,{key:0,ref_key:"form",ref:k,modelValue:y.value,"onUpdate:modelValue":a[2]||(a[2]=s=>y.value=s),style:{"margin-right":"10px"},disabled:t.disabled},{default:o(()=>[d(oe,{modelValue:P.value,"onUpdate:modelValue":a[1]||(a[1]=s=>P.value=s),variant:"accordion",multiple:""},{default:o(()=>[(r(!0),w(J,null,K(p(B),s=>(r(),V(ie,{key:s,value:s},{default:o(()=>[s=="advanced"?(r(),V(ue,{key:0},{default:o(()=>[g("div",Re,h(l.$t("settings.advanced_settings")),1)]),_:1})):R("",!0),xe,d(pe,null,{default:o(()=>[(r(!0),w(J,null,K(u.value.filter(e=>e.advanced==(s=="advanced")&&!e.hidden),e=>{var S,x;return r(),w("div",{key:e.key,class:"configrow"},[g("div",Ae,[e.type==p(b).DIVIDER?(r(),w("div",Le,[De,d(Ue),e.label?(r(),V(X,{key:0,style:{"margin-left":"8px","margin-top":"10px","margin-bottom":"10px"}},{default:o(()=>[g("b",null,h(e.label),1)]),_:2},1024)):R("",!0),Ne,Oe])):e.type==p(b).LABEL?(r(),w("div",Ge,[ze,d(X,{style:{"margin-left":"8px","margin-top":"10px","margin-bottom":"10px"}},{default:o(()=>[U(h(l.$t(`settings.${e.key}`,e.label)),1)]),_:2},1024)])):e.type==p(b).ACTION||e.action&&!e.value?(r(),w("div",He,[Me,d(I,{class:"actionbutton",disabled:!!e.depends_on&&!v(e.depends_on),onClick:n=>{N(e.action||e.key),e.value=e.action?null:e.key}},{default:o(()=>[U(h(l.$t(`settings.${e.action||e.key}`,e.action_label||e.label)),1)]),_:2},1032,["disabled","onClick"])])):e.type==p(b).BOOLEAN?(r(),V(Fe,{key:3,modelValue:e.value,"onUpdate:modelValue":n=>e.value=n,label:l.$t(`settings.${e.key}`,e.label),color:"primary",disabled:!!e.depends_on&&!v(e.depends_on)},null,8,["modelValue","onUpdate:modelValue","label","disabled"])):(e.type==p(b).INTEGER||e.type==p(b).FLOAT)&&e.range&&e.range.length==2?(r(),V(be,{key:4,modelValue:e.value,"onUpdate:modelValue":n=>e.value=n,disabled:!!e.depends_on&&!v(e.depends_on),label:l.$t(`settings.${e.key}`,e.label),required:e.required,class:"align-center",min:e.range[0],max:e.range[1],step:e.type==p(b).FLOAT?.5:1,"hide-details":"",style:{"margin-top":"10px","margin-bottom":"25px"},color:"primary"},{append:o(()=>[d(A,{modelValue:e.value,"onUpdate:modelValue":n=>e.value=n,"hide-details":"","single-line":"",density:"compact",type:"number",style:{width:"70px"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["modelValue","onUpdate:modelValue","disabled","label","required","min","max","step"])):e.type==p(b).SECURE_STRING?(r(),V(A,{key:5,modelValue:e.value,"onUpdate:modelValue":n=>e.value=n,label:l.$t(`settings.${e.key}`,e.label),required:e.required,disabled:!!e.depends_on&&!v(e.depends_on),rules:[n=>!(!n&&e.required)||l.$t("settings.invalid_input")],type:f.value?"text":"password","append-inner-icon":f.value?"mdi-eye":typeof e.value=="string"&&e.value.includes(p(Q))?"":"mdi-eye-off",variant:"outlined",clearable:"",readonly:!!e.action,"onClick:appendInner":a[0]||(a[0]=n=>f.value=!f.value)},null,8,["modelValue","onUpdate:modelValue","label","required","disabled","rules","type","append-inner-icon","readonly"])):e.options&&e.options.length>0?(r(),V(Pe,{key:6,modelValue:e.value,"onUpdate:modelValue":n=>e.value=n,chips:e.multi_value,clearable:e.multi_value,multiple:e.multi_value,items:e.options,disabled:!!e.depends_on&&!v(e.depends_on),label:l.$t(`settings.${e.key}`,e.label),required:e.required,rules:[n=>!(!n&&e.required)||l.$t("settings.invalid_input")],variant:"outlined"},null,8,["modelValue","onUpdate:modelValue","chips","clearable","multiple","items","disabled","label","required","rules"])):e.type==p(b).INTEGER||e.type==p(b).FLOAT?(r(),V(A,{key:7,modelValue:e.value,"onUpdate:modelValue":n=>e.value=n,placeholder:(S=e.default_value)==null?void 0:S.toString(),disabled:!!e.depends_on&&!v(e.depends_on),label:l.$t(`settings.${e.key}`,e.label),required:e.required,rules:[n=>!(!n&&e.required)||l.$t("settings.invalid_input")],variant:"outlined",clearable:!e.required,type:"number"},null,8,["modelValue","onUpdate:modelValue","placeholder","disabled","label","required","rules","clearable"])):(r(),V(A,{key:8,modelValue:e.value,"onUpdate:modelValue":n=>e.value=n,placeholder:(x=e.default_value)==null?void 0:x.toString(),clearable:"",disabled:!!e.depends_on&&!v(e.depends_on),label:l.$t(`settings.${e.key}`,e.label),required:e.required,rules:[n=>!(!n&&e.required)||l.$t("settings.invalid_input")],variant:"outlined",readonly:!!e.action},null,8,["modelValue","onUpdate:modelValue","placeholder","disabled","label","required","rules","readonly"]))]),e.description||e.help_link?(r(),w("div",je,[d(I,{icon:"mdi-help-box",variant:"plain",class:"helpicon",size:"x-large",onClick:n=>e.description?i.value=e:O(e.help_link)},null,8,["onClick"])])):R("",!0)])}),128))]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),Je,d(I,{block:"",color:"primary",disabled:!p(F),onClick:D},{default:o(()=>[U(h(l.$t("settings.save")),1)]),_:1},8,["disabled"])]),_:1},8,["modelValue","disabled"])):R("",!0),Ke,d(I,{block:"",onClick:a[3]||(a[3]=s=>l.$router.back())},{default:o(()=>[U(h(l.$t("close")),1)]),_:1}),d(Se,{"model-value":i.value!==void 0,width:"auto","onUpdate:modelValue":a[6]||(a[6]=s=>i.value=void 0)},{default:o(()=>[d($e,null,{default:o(()=>[d(we,null,{default:o(()=>{var s;return[U(h((s=i.value)==null?void 0:s.description),1)]}),_:1}),d(fe,null,{default:o(()=>{var s;return[(s=i.value)!=null&&s.help_link?(r(),V(I,{key:0,onClick:a[4]||(a[4]=e=>O(i.value.help_link))},{default:o(()=>[U(h(l.$t("read_more")),1)]),_:1})):R("",!0),d(Ee),d(I,{color:"primary",onClick:a[5]||(a[5]=e=>i.value=void 0)},{default:o(()=>[U(h(l.$t("close")),1)]),_:1})]}),_:1})]),_:1})]),_:1},8,["model-value"])]))}});export{Fe as V,dl as _};
