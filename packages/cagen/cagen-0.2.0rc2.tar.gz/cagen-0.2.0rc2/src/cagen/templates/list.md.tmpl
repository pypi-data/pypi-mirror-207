---
% if title is not UNDEFINED:
title: ${title}
% endif
---
% if group_by:
<%
  import types
  # if we define a groupby as a lambda
  if isinstance(groupby, types.FunctionType):
        grouped = collection.group_by(groupby)
  else:
	# else, we assume groupby is a str
        crit = lambda x: x.to_dict[groupby] if groupby in x.to_dict else None
        grouped = collection.group_by(crit)
%>

% for key in sorted(grouped.keys()):

# ${key}

% for entry in sorted(grouped[key]):
- [${entry}](${entry.path})
% endfor

% endfor

% else:

% for e in sorted(collection.entries):
- [${e}](${e.path})
% endfor

% endif
